
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://xuan-insr.github.io/%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86/os/IV_memory_management/9_main_memory/">
      
      
        <link rel="prev" href="../../III_process_sync/8_deadlocks/">
      
      
        <link rel="next" href="../10_virtual_memory/">
      
      <link rel="icon" href="../../../../logo.ico">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.19">
    
    
      
        <title>9 ä¸»å­˜ - å’¸é±¼æš„çš„ä»£ç ç©ºé—´</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif+SC:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Serif SC";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../css/timeago.css">
    
      <link rel="stylesheet" href="../../../../from_oi_wiki/css/extra.css?v=13">
    
      <link rel="stylesheet" href="../../../../css/status.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-JT9BRCXKJJ"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-JT9BRCXKJJ",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-JT9BRCXKJJ",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#9-main-memory--ä¸»å­˜" class="md-skip">
          è·³è½¬è‡³
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="é¡µçœ‰">
    <a href="../../../.." title="å’¸é±¼æš„çš„ä»£ç ç©ºé—´" class="md-header__button md-logo" aria-label="å’¸é±¼æš„çš„ä»£ç ç©ºé—´" data-md-component="logo">
      
  <img src="../../../../logo.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            å’¸é±¼æš„çš„ä»£ç ç©ºé—´
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              9 ä¸»å­˜
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="æœç´¢" placeholder="æœç´¢" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="æŸ¥æ‰¾">
        
        <button type="reset" class="md-search__icon md-icon" title="æ¸…ç©ºå½“å‰å†…å®¹" aria-label="æ¸…ç©ºå½“å‰å†…å®¹" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            æ­£åœ¨åˆå§‹åŒ–æœç´¢å¼•æ“
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/xuan-insr/xuan-insr.github.io" title="å‰å¾€ä»“åº“" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    xuan-insr/å’¸é±¼æš„çš„ä»£ç ç©ºé—´
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="æ ‡ç­¾" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        ğŸ¡ ä¸»é¡µ
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../cpp/" class="md-tabs__link">
        C++
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../pl/" class="md-tabs__link">
        PL & ç¼–è¯‘
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../" class="md-tabs__link md-tabs__link--active">
        æ ¸å¿ƒçŸ¥è¯†
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../%E5%AE%89%E5%85%A8/" class="md-tabs__link">
        å®‰å…¨
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../../%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/" class="md-tabs__link">
      è¯­è¨€åŸºç¡€
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../other_courses/" class="md-tabs__link">
        å…¶ä»–è¯¾ç¨‹
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../%E6%9D%82%E9%A1%B9/" class="md-tabs__link">
        æ‚é¡¹
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../%E7%94%9F%E6%B4%BB/" class="md-tabs__link">
        ç”Ÿæ´»
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="å¯¼èˆªæ " data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="å’¸é±¼æš„çš„ä»£ç ç©ºé—´" class="md-nav__button md-logo" aria-label="å’¸é±¼æš„çš„ä»£ç ç©ºé—´" data-md-component="logo">
      
  <img src="../../../../logo.ico" alt="logo">

    </a>
    å’¸é±¼æš„çš„ä»£ç ç©ºé—´
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/xuan-insr/xuan-insr.github.io" title="å‰å¾€ä»“åº“" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    xuan-insr/å’¸é±¼æš„çš„ä»£ç ç©ºé—´
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../..">ğŸ¡ ä¸»é¡µ</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          ğŸ¡ ä¸»é¡µ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E4%B8%BB%E9%A1%B5/about/" class="md-nav__link">
        â¤ï¸ æˆ‘å’Œæœ‹å‹ä»¬ï¼
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../recent/" class="md-nav__link">
        ğŸ“† æœ€è¿‘æ›´æ–°
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../cpp/">C++</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          C++
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../cpp/cpp_restart/">ğŸ‰C++ å­¦ä¹ è®°å½•</a>
          
            <label for="__nav_2_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          ğŸ‰C++ å­¦ä¹ è®°å½•
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_2" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_2" id="__nav_2_2_2_label" tabindex="0">
          æœ‹è¾ˆè¾…å­¦ slides ä¸éšæ
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_2">
          <span class="md-nav__icon md-icon"></span>
          æœ‹è¾ˆè¾…å­¦ slides ä¸éšæ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://xuan-insr.github.io/slides/cpp/1_birth_and_oop/" class="md-nav__link">
        Week1 C++ çš„è¯ç”Ÿä¸é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/review/week1/" class="md-nav__link">
        Week1 å†…å®¹å›é¡¾
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://xuan-insr.github.io/slides/cpp/2_class_I/" class="md-nav__link">
        Week2 ç±»(I) å®šä¹‰ã€æˆå‘˜ã€æ„é€ ã€ææ„
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/review/week2/" class="md-nav__link">
        Week2 æ€è€ƒé¢˜ä¸å¤ä¹ é¢˜
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://xuan-insr.github.io/slides/cpp/3_class_II/" class="md-nav__link">
        Week3 ç±» (II) æ‹·è´èµ‹å€¼ã€æ‹·è´æ„é€ ã€SMFs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/review/week3/" class="md-nav__link">
        Week3 æ€è€ƒé¢˜ä¸å¤ä¹ é¢˜
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://xuan-insr.github.io/slides/cpp/4_class_III/" class="md-nav__link">
        Week4 ç±» (III) éšå¼ç±»å‹è½¬æ¢ã€æ‹·è´æ„é€ ã€SMFs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/review/week4/" class="md-nav__link">
        Week4 æ€è€ƒé¢˜ä¸å¤ä¹ é¢˜
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://xuan-insr.github.io/slides/cpp/5_template_I/" class="md-nav__link">
        Week5 æ¨¡æ¿ (I) åŸºç¡€çŸ¥è¯†ä¸ STL ä½¿ç”¨
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://xuan-insr.github.io/slides/cpp/6_stl/" class="md-nav__link">
        Week6 æ¨¡æ¿ (II) ç†è§£ STL - è¿­ä»£å™¨ä¸å‡½æ•°å¯¹è±¡
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://xuan-insr.github.io/slides/cpp/7_rvalue_ref/" class="md-nav__link">
        Week7 å€¼ç±»å‹ã€å³å€¼å¼•ç”¨ä¸ç§»åŠ¨è¯­ä¹‰
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://xuan-insr.github.io/slides/cpp/8_smart_ptr/" class="md-nav__link">
        Week8 æ™ºèƒ½æŒ‡é’ˆåŸºç¡€
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_3" id="__nav_2_2_3_label" tabindex="0">
          æ­£æ–‡ï¼
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_3">
          <span class="md-nav__icon md-icon"></span>
          æ­£æ–‡ï¼
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/1_birth/" class="md-nav__link">
        1 C++ çš„è¯ç”Ÿ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/2_paradigm/" class="md-nav__link">
        2 ç¼–ç¨‹èŒƒå¼
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/3_oop/" class="md-nav__link">
        3 é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/4_class_1/" class="md-nav__link">
        4 ç±» (I) - å®šä¹‰ã€æˆå‘˜ã€æ„é€ ã€ææ„
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/5_class_2/" class="md-nav__link">
        5 ç±» (II) - æ‹·è´èµ‹å€¼ã€è¿ç®—ç¬¦é‡è½½ä¸å¼•ç”¨
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/6_class_3/" class="md-nav__link">
        6 ç±» (III) - æ‹·è´æ„é€ ã€SMFs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/7_template/" class="md-nav__link">
        7 æ¨¡æ¿ (I) - åŸºæœ¬çŸ¥è¯†ä¸ STL ä½¿ç”¨
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/8_stl/" class="md-nav__link">
        8 æ¨¡æ¿ (II) - ç†è§£ STL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/9_move_semantics/" class="md-nav__link">
        9 å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/10_smart_ptr/" class="md-nav__link">
        10 æ™ºèƒ½æŒ‡é’ˆåŸºç¡€
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/11_class_4/" class="md-nav__link">
        11 ç±» (IV) - ç»§æ‰¿ã€RTTI
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_4" id="__nav_2_2_4_label" tabindex="0">
          A é™„å½•
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_4">
          <span class="md-nav__icon md-icon"></span>
          A é™„å½•
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/appendix/decl_and_def/" class="md-nav__link">
        å£°æ˜ä¸å®šä¹‰
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/appendix/inline_functions/" class="md-nav__link">
        inline å‡½æ•°
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/appendix/func_overload/" class="md-nav__link">
        å‡½æ•°é»˜è®¤å‚æ•°ä¸é‡è½½
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/appendix/operator_overload/" class="md-nav__link">
        è¿ç®—ç¬¦é‡è½½
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/appendix/references/" class="md-nav__link">
        å¼•ç”¨
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/appendix/iostream/" class="md-nav__link">
        I/O stream
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/appendix/copy_elision/" class="md-nav__link">
        copy elision
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/appendix/cast/" class="md-nav__link">
        ç±»å‹è½¬æ¢
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/appendix/bool/" class="md-nav__link">
        bool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/appendix/auto/" class="md-nav__link">
        auto
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/appendix/undefined_behavior/" class="md-nav__link">
        æœªå®šä¹‰è¡Œä¸º
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/appendix/string/" class="md-nav__link">
        std::string
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/appendix/smart_pointers/" class="md-nav__link">
        æ™ºèƒ½æŒ‡é’ˆ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/appendix/lambda/" class="md-nav__link">
        lambda
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_5" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_5" id="__nav_2_2_5_label" tabindex="0">
          B æ€»ç»“
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_5">
          <span class="md-nav__icon md-icon"></span>
          B æ€»ç»“
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/summaries/member_init_lists/" class="md-nav__link">
        member initializer lists
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_6" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_6" id="__nav_2_2_6_label" tabindex="0">
          ä¸€äº›ç¬”è®°å’Œ TODO
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_6">
          <span class="md-nav__icon md-icon"></span>
          ä¸€äº›ç¬”è®°å’Œ TODO
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/notes/notes/" class="md-nav__link">
        é›¶æ•£å†…å®¹è®°å½•
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/notes/dne_notes/" class="md-nav__link">
        The Design and Evaluation of C++ é˜…è¯»è®°å½•
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/notes/std_notes/" class="md-nav__link">
        C++ è¯­è¨€æ ‡å‡†é˜…è¯»è®°å½•
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/notes/guideline_notes/" class="md-nav__link">
        C++ Core Guidelines é˜…è¯»è®°å½•
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_restart/notes/bs_faq_notes/" class="md-nav__link">
        Bjarne Stroustrup's FAQ é˜…è¯»è®°å½•
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/cpp_for_contests/" class="md-nav__link">
        å¿«é€Ÿå…¥é—¨ C++ å†™é¢˜
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          C++ çŸ¥è¯†è¡¥å……
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          C++ çŸ¥è¯†è¡¥å……
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cpp/%E7%90%86%E8%A7%A3%20STL%20-%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1/" class="md-nav__link">
        ç†è§£ STL â€”â€” è¿­ä»£å™¨ä¸å‡½æ•°å¯¹è±¡
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
            
          
        
          
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../pl/">PL & ç¼–è¯‘</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          PL & ç¼–è¯‘
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../pl/ppl_notes/">ç¼–ç¨‹è¯­è¨€åŸç†</a>
          
            <label for="__nav_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          ç¼–ç¨‹è¯­è¨€åŸç†
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pl/ppl_notes/0_PPL_Final_Problem1/" class="md-nav__link">
        æˆ‘åœ¨ PPL 2022 Final å‡ºçš„å¤ä¹ é¢˜
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
          Part I - Judgments and Rules | åˆ¤æ–­ä¸è§„åˆ™
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2_3">
          <span class="md-nav__icon md-icon"></span>
          Part I - Judgments and Rules | åˆ¤æ–­ä¸è§„åˆ™
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pl/ppl_notes/1_Abstract_Syntax/" class="md-nav__link">
        1 æŠ½è±¡è¯­æ³•
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pl/ppl_notes/2_Inductive_Definition/" class="md-nav__link">
        2 å½’çº³å®šä¹‰
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pl/ppl_notes/3_Hypothetical_and_General_Judgments/" class="md-nav__link">
        3 å‡è¨€åˆ¤æ–­ä¸ä¸€èˆ¬æ€§åˆ¤æ–­
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2_4" id="__nav_3_2_4_label" tabindex="0">
          Part II - Statics and Dynamics | é™æ€è¯­ä¹‰å’ŒåŠ¨æ€è¯­ä¹‰
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2_4">
          <span class="md-nav__icon md-icon"></span>
          Part II - Statics and Dynamics | é™æ€è¯­ä¹‰å’ŒåŠ¨æ€è¯­ä¹‰
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pl/ppl_notes/4_Statics/" class="md-nav__link">
        4 é™æ€è¯­ä¹‰
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pl/ppl_notes/5_Dynamics/" class="md-nav__link">
        5 åŠ¨æ€è¯­ä¹‰
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pl/ppl_notes/6_Type_Safety/" class="md-nav__link">
        6 ç±»å‹å®‰å…¨
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_5" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2_5" id="__nav_3_2_5_label" tabindex="0">
          Part III - Total Functions | å…¨å‡½æ•°
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2_5">
          <span class="md-nav__icon md-icon"></span>
          Part III - Total Functions | å…¨å‡½æ•°
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pl/ppl_notes/8_Func_Def_and_Val/" class="md-nav__link">
        8 å‡½æ•°å®šä¹‰å’Œå€¼
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pl/ppl_notes/9_Sys_T_of_Higher_Order_Recursion/" class="md-nav__link">
        9 é«˜é˜¶é€’å½’çš„ç³»ç»Ÿ T
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_6" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2_6" id="__nav_3_2_6_label" tabindex="0">
          Part IV - Finite Data Types | æœ‰é™æ•°æ®ç±»å‹
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2_6">
          <span class="md-nav__icon md-icon"></span>
          Part IV - Finite Data Types | æœ‰é™æ•°æ®ç±»å‹
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pl/ppl_notes/10_product_types/" class="md-nav__link">
        10 ç§¯ç±»å‹
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pl/ppl_notes/11_sum_types/" class="md-nav__link">
        11 å’Œç±»å‹
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../compile_principle/" class="md-nav__link">
        ç¼–è¯‘åŸç†
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://www.yuque.com/xianyuxuan/coding/ocaml" class="md-nav__link">
        OCaml å…¥é—¨
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../">æ ¸å¿ƒçŸ¥è¯†</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          æ ¸å¿ƒçŸ¥è¯†
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          æ“ä½œç³»ç»Ÿ
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          æ“ä½œç³»ç»Ÿ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../I_overview/1_intro/" class="md-nav__link">
        1 å†™åœ¨å‰é¢
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../I_overview/2_overview/" class="md-nav__link">
        Part.1 æ¦‚è¿°
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_3" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_3" id="__nav_4_2_3_label" tabindex="0">
          Part.2 è¿›ç¨‹ç®¡ç†
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_3">
          <span class="md-nav__icon md-icon"></span>
          Part.2 è¿›ç¨‹ç®¡ç†
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../II_process_management/3_process/" class="md-nav__link">
        3 è¿›ç¨‹
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../II_process_management/4_sched/" class="md-nav__link">
        4 è°ƒåº¦
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../II_process_management/5_thread/" class="md-nav__link">
        5 çº¿ç¨‹
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_4" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_4" id="__nav_4_2_4_label" tabindex="0">
          Part.3 è¿›ç¨‹åŒæ­¥
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_4">
          <span class="md-nav__icon md-icon"></span>
          Part.3 è¿›ç¨‹åŒæ­¥
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../III_process_sync/6_sync_tools/" class="md-nav__link">
        6 åŒæ­¥åŠå…¶å·¥å…·
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../III_process_sync/7_sync_examples/" class="md-nav__link">
        7 ç»å…¸åŒæ­¥é—®é¢˜
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../III_process_sync/8_deadlocks/" class="md-nav__link">
        8 æ­»é”
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_5" checked>
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_5" id="__nav_4_2_5_label" tabindex="0">
          Part.4 å†…å­˜ç®¡ç†
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_5_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_2_5">
          <span class="md-nav__icon md-icon"></span>
          Part.4 å†…å­˜ç®¡ç†
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          9 ä¸»å­˜
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        9 ä¸»å­˜
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="ç›®å½•">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ç›®å½•
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#91-background" class="md-nav__link">
    9.1 Background
  </a>
  
    <nav class="md-nav" aria-label="9.1 Background">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#911-memory" class="md-nav__link">
    9.1.1 Memory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#912-address-binding" class="md-nav__link">
    9.1.2 Address Binding
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#92-contiguous-memory-allocation---partitioning-strategies" class="md-nav__link">
    9.2 Contiguous Memory Allocation - Partitioning Strategies
  </a>
  
    <nav class="md-nav" aria-label="9.2 Contiguous Memory Allocation - Partitioning Strategies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#921-fixed-partition" class="md-nav__link">
    9.2.1 Fixed Partition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#922-variable-partition" class="md-nav__link">
    9.2.2 Variable Partition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#923-dynamic-storage-allocation-problem" class="md-nav__link">
    9.2.3 Dynamic Storage-Allocation Problem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#924-protection" class="md-nav__link">
    9.2.4 Protection
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#93-segmentation" class="md-nav__link">
    9.3 Segmentation
  </a>
  
    <nav class="md-nav" aria-label="9.3 Segmentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#931-basic-method" class="md-nav__link">
    9.3.1 Basic Method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#932-logical-address--mmu" class="md-nav__link">
    9.3.2 Logical Address &amp; MMU
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#933-problems" class="md-nav__link">
    9.3.3 Problems
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#94-paging" class="md-nav__link">
    9.4 Paging
  </a>
  
    <nav class="md-nav" aria-label="9.4 Paging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#941-basic-method" class="md-nav__link">
    9.4.1 Basic Method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#942-why-not-contiguous" class="md-nav__link">
    9.4.2 Why "Not Contiguous"
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#943-hardware-support" class="md-nav__link">
    9.4.3 Hardware Support
  </a>
  
    <nav class="md-nav" aria-label="9.4.3 Hardware Support">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#9431-simplest-method" class="md-nav__link">
    9.4.3.1 Simplest method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9432-page-table-in-memory--ptbr" class="md-nav__link">
    9.4.3.2 Page table in memory &amp; PTBR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9433-tlb" class="md-nav__link">
    9.4.3.3 TLB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9434-tlb-with-asid" class="md-nav__link">
    9.4.3.4 TLB with ASID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9435-effective-memory-access-time" class="md-nav__link">
    9.4.3.5 Effective memory-access time
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#944-memory-protection" class="md-nav__link">
    9.4.4 Memory Protection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#945-shared-pages" class="md-nav__link">
    9.4.5 Shared Pages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#946-problems" class="md-nav__link">
    9.4.6 Problems
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#95-structure-of-page-table" class="md-nav__link">
    9.5 Structure of Page Table
  </a>
  
    <nav class="md-nav" aria-label="9.5 Structure of Page Table">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#951-hierarchical-paging" class="md-nav__link">
    9.5.1 Hierarchical Paging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#952-hashed-page-tables" class="md-nav__link">
    9.5.2 Hashed Page Tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#953-inverted-page-tables" class="md-nav__link">
    9.5.3 Inverted Page Tables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#96-swapping" class="md-nav__link">
    9.6 Swapping
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../10_virtual_memory/" class="md-nav__link">
        10 è™šæ‹Ÿå†…å­˜
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_6" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_6" id="__nav_4_2_6_label" tabindex="0">
          Part.5 å­˜å‚¨ç®¡ç†
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_6">
          <span class="md-nav__icon md-icon"></span>
          Part.5 å­˜å‚¨ç®¡ç†
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../V_storage_management/11_mass_storage/" class="md-nav__link">
        11 å¤§å®¹é‡å­˜å‚¨
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../V_storage_management/12_io_systems/" class="md-nav__link">
        12 I/O ç³»ç»Ÿ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_7" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2_7" id="__nav_4_2_7_label" tabindex="0">
          Part.6 æ–‡ä»¶ç³»ç»Ÿ
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_7">
          <span class="md-nav__icon md-icon"></span>
          Part.6 æ–‡ä»¶ç³»ç»Ÿ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../VI_file_system/13_fs_interface/" class="md-nav__link">
        13 æ–‡ä»¶ç³»ç»Ÿ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../VI_file_system/14_fs_impl/" class="md-nav__link">
        14 æ–‡ä»¶ç³»ç»Ÿå®ç°
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../15_review/" class="md-nav__link">
        15 æ€»ç»“
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../computer_organization/">è®¡ç®—æœºç»„æˆ</a>
          
            <label for="__nav_4_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          è®¡ç®—æœºç»„æˆ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../computer_organization/1_prelude/" class="md-nav__link">
        1 Prelude
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../computer_organization/2_instructions/" class="md-nav__link">
        2 Instructions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../computer_organization/3_arithmetic/" class="md-nav__link">
        3 Arithmetic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../computer_organization/4_processor/" class="md-nav__link">
        4 Processor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../computer_organization/5_cache/" class="md-nav__link">
        5 Cache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../computer_organization/6_IO/" class="md-nav__link">
        6 I/O
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../computer_organization/%E5%8E%86%E5%B9%B4%E5%8D%B7/" class="md-nav__link">
        2022 å›å¿†å·
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../compile_principle/">ç¼–è¯‘åŸç†</a>
          
            <label for="__nav_4_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          ç¼–è¯‘åŸç†
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../compile_principle/1%20Lexical%20Analysis/" class="md-nav__link">
        I è¯æ³•åˆ†æ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../compile_principle/2%20Parsing%20%28I%29/" class="md-nav__link">
        II è¯­æ³•åˆ†æ - è‡ªé¡¶å‘ä¸‹åˆ†æ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../compile_principle/3%20Parsing%20%28II%29/" class="md-nav__link">
        III è¯­æ³•åˆ†æ - è‡ªåº•å‘ä¸Šåˆ†æ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../compile_principle/4%20Semantic%20Analysis/" class="md-nav__link">
        IV è¯­ä¹‰åˆ†æ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../compile_principle/5%20Runtime%20Environment/" class="md-nav__link">
        V è¿è¡Œæ—¶ç¯å¢ƒ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../compile_principle/6%20Code%20Generation/" class="md-nav__link">
        VI ä»£ç ç”Ÿæˆ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../math_ds_algo/">æ•°å­¦ã€æ•°æ®ç»“æ„å’Œç®—æ³•</a>
          
            <label for="__nav_4_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          æ•°å­¦ã€æ•°æ®ç»“æ„å’Œç®—æ³•
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../math_ds_algo/getting_started/" class="md-nav__link">
        å…¥é—¨è·¯çº¿
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../%E5%AE%89%E5%85%A8/">å®‰å…¨</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          å®‰å…¨
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://www.yuque.com/xianyuxuan/coding/crypto" class="md-nav__link">
        å¯†ç å­¦
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://www.yuque.com/xianyuxuan/coding/advcrypto" class="md-nav__link">
        å¯†ç å­¦è¿›é˜¶
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://www.yuque.com/xianyuxuan/coding/softwsec" class="md-nav__link">
        è½¯ä»¶å®‰å…¨
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://www.yuque.com/xianyuxuan/coding/netsec" class="md-nav__link">
        ç½‘ç»œå®‰å…¨åŸç†ä¸å®è·µ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://www.yuque.com/xianyuxuan/coding/syssec" class="md-nav__link">
        ç³»ç»Ÿå®‰å…¨
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://www.yuque.com/xianyuxuan/coding/wireless_iot" class="md-nav__link">
        æ— çº¿ä¸ç‰©è”ç½‘å®‰å…¨åŸºç¡€
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://www.yuque.com/xianyuxuan/coding/signal_processing" class="md-nav__link">
        é¢å‘ä¿¡æ¯å®‰å…¨çš„ä¿¡å·å¤„ç†
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        è¯­è¨€åŸºç¡€
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../other_courses/">å…¶ä»–è¯¾ç¨‹</a>
          
            <label for="__nav_7">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          å…¶ä»–è¯¾ç¨‹
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../other_courses/theory_of_computation/" class="md-nav__link">
        è®¡ç®—ç†è®º
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../%E6%9D%82%E9%A1%B9/">æ‚é¡¹</a>
          
            <label for="__nav_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          æ‚é¡¹
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%9D%82%E9%A1%B9/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        åšå®¢æ­å»ºè®°å½•
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../%E7%94%9F%E6%B4%BB/">ç”Ÿæ´»</a>
          
            <label for="__nav_9">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          ç”Ÿæ´»
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_2" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_9_2" id="__nav_9_2_label" tabindex="0">
          è®¨é¥­å†ç¨‹
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_2">
          <span class="md-nav__icon md-icon"></span>
          è®¨é¥­å†ç¨‹
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interviews/overview/" class="md-nav__link">
        ğŸ³ï¸â€ğŸŒˆ æ€»è§ˆ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interviews/pdd/" class="md-nav__link">
        ğŸ˜• æ‹¼å¤šå¤š
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interviews/meituan/" class="md-nav__link">
        ğŸ¤— ç¾å›¢
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interviews/mayi/" class="md-nav__link">
        ğŸ¤” èš‚èš
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interviews/huawei/" class="md-nav__link">
        ğŸ‘ åä¸º
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interviews/bytedance/" class="md-nav__link">
        ğŸ¥³ å­—èŠ‚
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interviews/quant/" class="md-nav__link">
        ğŸ‘¨â€ğŸ’» é‡åŒ–ç›¸å…³
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interviews/others/" class="md-nav__link">
        å…¶ä»–
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%94%9F%E6%B4%BB/%E6%88%91%E9%9C%80%E8%A6%81%E4%B8%80%E4%B8%AA%E5%A4%96%E7%BD%AE%E5%A4%A7%E8%84%91/" class="md-nav__link">
        æˆ‘éœ€è¦ä¸€ä¸ªå¤–ç½®å¤§è„‘
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%94%9F%E6%B4%BB/%E4%BA%B2%E5%AF%86%E5%85%B3%E7%B3%BB/" class="md-nav__link">
        å…³äºäº²å¯†å…³ç³»çš„ç¢ç¢å¿µ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%94%9F%E6%B4%BB/2022/" class="md-nav__link">
        2022 å¹´ç»ˆæ€»ç»“
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%94%9F%E6%B4%BB/%E5%9B%9E%E9%A1%BE%E5%9C%A8%E4%BF%A1%E5%AE%89%E7%9A%84%E4%B8%89%E5%B9%B4/" class="md-nav__link">
        å›é¡¾åœ¨ä¿¡å®‰çš„ä¸‰å¹´
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%94%9F%E6%B4%BB/%E7%A7%9F%E6%88%BF%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        å’¸é±¼æš„çš„ç§Ÿæˆ¿è®°å½•
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_8" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../%E6%A1%8C%E6%B8%B8/">æ¡Œæ¸¸</a>
          
            <label for="__nav_9_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_8">
          <span class="md-nav__icon md-icon"></span>
          æ¡Œæ¸¸
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%A1%8C%E6%B8%B8/components/" class="md-nav__link">
        é…ä»¶ç›¸å…³
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="ç›®å½•">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ç›®å½•
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#91-background" class="md-nav__link">
    9.1 Background
  </a>
  
    <nav class="md-nav" aria-label="9.1 Background">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#911-memory" class="md-nav__link">
    9.1.1 Memory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#912-address-binding" class="md-nav__link">
    9.1.2 Address Binding
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#92-contiguous-memory-allocation---partitioning-strategies" class="md-nav__link">
    9.2 Contiguous Memory Allocation - Partitioning Strategies
  </a>
  
    <nav class="md-nav" aria-label="9.2 Contiguous Memory Allocation - Partitioning Strategies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#921-fixed-partition" class="md-nav__link">
    9.2.1 Fixed Partition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#922-variable-partition" class="md-nav__link">
    9.2.2 Variable Partition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#923-dynamic-storage-allocation-problem" class="md-nav__link">
    9.2.3 Dynamic Storage-Allocation Problem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#924-protection" class="md-nav__link">
    9.2.4 Protection
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#93-segmentation" class="md-nav__link">
    9.3 Segmentation
  </a>
  
    <nav class="md-nav" aria-label="9.3 Segmentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#931-basic-method" class="md-nav__link">
    9.3.1 Basic Method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#932-logical-address--mmu" class="md-nav__link">
    9.3.2 Logical Address &amp; MMU
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#933-problems" class="md-nav__link">
    9.3.3 Problems
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#94-paging" class="md-nav__link">
    9.4 Paging
  </a>
  
    <nav class="md-nav" aria-label="9.4 Paging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#941-basic-method" class="md-nav__link">
    9.4.1 Basic Method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#942-why-not-contiguous" class="md-nav__link">
    9.4.2 Why "Not Contiguous"
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#943-hardware-support" class="md-nav__link">
    9.4.3 Hardware Support
  </a>
  
    <nav class="md-nav" aria-label="9.4.3 Hardware Support">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#9431-simplest-method" class="md-nav__link">
    9.4.3.1 Simplest method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9432-page-table-in-memory--ptbr" class="md-nav__link">
    9.4.3.2 Page table in memory &amp; PTBR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9433-tlb" class="md-nav__link">
    9.4.3.3 TLB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9434-tlb-with-asid" class="md-nav__link">
    9.4.3.4 TLB with ASID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9435-effective-memory-access-time" class="md-nav__link">
    9.4.3.5 Effective memory-access time
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#944-memory-protection" class="md-nav__link">
    9.4.4 Memory Protection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#945-shared-pages" class="md-nav__link">
    9.4.5 Shared Pages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#946-problems" class="md-nav__link">
    9.4.6 Problems
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#95-structure-of-page-table" class="md-nav__link">
    9.5 Structure of Page Table
  </a>
  
    <nav class="md-nav" aria-label="9.5 Structure of Page Table">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#951-hierarchical-paging" class="md-nav__link">
    9.5.1 Hierarchical Paging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#952-hashed-page-tables" class="md-nav__link">
    9.5.2 Hashed Page Tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#953-inverted-page-tables" class="md-nav__link">
    9.5.3 Inverted Page Tables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#96-swapping" class="md-nav__link">
    9.6 Swapping
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="9-main-memory--ä¸»å­˜">9 Main Memory | ä¸»å­˜<a class="headerlink" href="#9-main-memory--ä¸»å­˜" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8V2m6.78 1a.69.69 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38-2.5-2.5Z"/></svg></span> çº¦ 5990 ä¸ªå­— <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3L12.5 13Z"/></svg></span> é¢„è®¡é˜…è¯»æ—¶é—´ 20 åˆ†é’Ÿ</p>
</div>
<h2 id="91-background">9.1 Background<a class="headerlink" href="#91-background" title="Permanent link">&para;</a></h2>
<h3 id="911-memory">9.1.1 Memory<a class="headerlink" href="#911-memory" title="Permanent link">&para;</a></h3>
<p>å†…å­˜æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å­—èŠ‚æ•°ç»„ï¼ŒCPU æ ¹æ® PC (Program Counter) çš„å€¼ä»å†…å­˜ä¸­æå–æŒ‡ä»¤ã€‚ç¨‹åºéœ€è¦è¿è¡Œï¼Œè‡³å°‘éƒ¨åˆ†ç¨‹åºåŠå…¶è®¿é—®çš„æ•°æ®åº”åœ¨å†…å­˜ä¸­ï¼ˆæˆ–è€…æ›´æ˜ç¡®åœ°ï¼Œå†…å­˜ä¸­çš„ä¸€ä¸ªè¿›ç¨‹é‡Œï¼‰ã€‚</p>
<p>CPU å¯ä»¥ç›´æ¥è®¿é—®çš„é€šç”¨å­˜å‚¨åªæœ‰ main memory å’Œ registersã€‚å¯¹ registers çš„è®¿é—®é€šå¸¸å¯ä»¥åœ¨ä¸€ä¸ª CPU æ—¶é’Ÿå‘¨æœŸä¸­å®Œæˆï¼Œè€Œå®Œæˆå†…å­˜çš„è®¿é—®å¯èƒ½éœ€è¦å¤šä¸ªæ—¶é’Ÿå‘¨æœŸã€‚åœ¨è¿™äº›æ—¶é’Ÿå‘¨æœŸé‡Œï¼Œç”±äºæ²¡æœ‰ç”¨æ¥å®ŒæˆæŒ‡ä»¤çš„æ•°æ®ï¼Œè¿™ä¼šå¼•èµ· <strong>stall</strong>ï¼ˆæš‚åœï¼ŒæŠ›é”šï¼‰ã€‚ä¸ºäº†è¡¥æ•‘ï¼Œæˆ‘ä»¬åœ¨ CPU èŠ¯ç‰‡ä¸Šå¢è®¾æ›´å¿«çš„å†…å­˜ï¼Œç§°ä¸º <strong>cache</strong>Â ã€‚</p>
<p>åŒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¿æŠ¤å†…å­˜ç©ºé—´ï¼Œé˜²æ­¢ç”¨æˆ·ç¨‹åºä¿®æ”¹æ“ä½œç³»ç»Ÿæˆ–å…¶ä»–ç”¨æˆ·ç¨‹åºçš„ä»£ç æˆ–è€…æ•°æ®ã€‚</p>
<h3 id="912-address-binding">9.1.2 Address Binding<a class="headerlink" href="#912-address-binding" title="Permanent link">&para;</a></h3>
<p>å¦‚æˆ‘ä»¬å‰é¢æ‰€è¯´ï¼Œæ‰§è¡Œç¨‹åºå¿…é¡»å°†å…¶è°ƒå…¥å†…å­˜ä»¥ä¾›è¿›ç¨‹ä½¿ç”¨ã€‚æºç¨‹åºä¸­çš„åœ°å€é€šå¸¸æ˜¯ç”¨ç¬¦å·è¡¨ç¤ºï¼ˆ<strong>symbolic</strong>, ä¾‹å¦‚å„ç§å˜é‡ã€å‡½æ•°åï¼›æ±‡ç¼–ä¸­çš„ label ç­‰ï¼‰ï¼›ç¼–è¯‘å™¨ä¼šå°†å…¶ç»‘å®šåˆ° <strong>relocatable addresses</strong>ï¼Œå³ç›¸å¯¹äºæŸä¸€ä¸ªæ®µ/æ¨¡å—ç­‰çš„åç§»ï¼Œä¾‹å¦‚ <code>sp - 8</code>, <code>ds:[0]</code>ï¼›é“¾æ¥å™¨æˆ–åŠ è½½å™¨ï¼ˆlinker / loaderï¼‰ä¼šå°† <strong>relocatable addresses</strong>Â ç»‘å®šåˆ° <strong>absolute addresses</strong>ã€‚å½“ç„¶ï¼Œå¦‚æœç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å°±çŸ¥é“ç¨‹åºæ‰€å¤„çš„å†…å­˜åœ°å€ï¼Œåˆ™ä¼šç”Ÿæˆ <strong>absolute code</strong>ã€‚</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1607176454869-3d761c55-5e1d-4165-867f-7177626b475e.png" /></center></p>
<h2 id="92-contiguous-memory-allocation---partitioning-strategies">9.2 Contiguous Memory Allocation - Partitioning Strategies<a class="headerlink" href="#92-contiguous-memory-allocation---partitioning-strategies" title="Permanent link">&para;</a></h2>
<p>åœ¨ Batch ç³»ç»Ÿä¸­ï¼Œæ¯æ¬¡åªæœ‰ä¸€ä¸ªç¨‹åºè¢«åŠ è½½å…¥ç‰©ç†å†…å­˜ï¼Œå¹¶è¢«è¿è¡Œè‡³ç»“æŸã€‚å¦‚æœç¨‹åºæ‰€éœ€çš„å­˜å‚¨ç©ºé—´æ¯”ç‰©ç†å†…å­˜å¤§ï¼Œåˆ™å°†ç¨‹åºåˆ†å¼€ä¸ºå¯ä»¥è¿è¡Œè‡³äº§ç”ŸæŸä¸ªç»“æœä¸”å¤§å°å¯ä»¥æ”¾å…¥ç©ºä½™å†…å­˜çš„éƒ¨åˆ†ï¼Œé€ä¸ªè¿è¡Œï¼Œå°†è¿è¡Œç»“æœä¼ é€’ç»™ä¸‹ä¸€ä¸ªéƒ¨åˆ†ã€‚</p>
<p>ä¸è¿™ç§ "prehistroy"ç³»ç»Ÿä¸åŒçš„æ˜¯ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦æŠŠå¤šä¸ªè¿›ç¨‹åŒæ—¶æ”¾åœ¨å†…å­˜ä¸­ï¼Œå¹¶ä¸”æ”¯æŒå…¶å½¼æ­¤ä¹‹é—´çš„å¿«é€Ÿåˆ‡æ¢ã€‚æœ€ç®€å•çš„å†…å­˜åˆ†é…æ–¹æ³•ä¹‹ä¸€ï¼Œå°±æ˜¯å°†å†…å­˜åˆ†æˆè®¸å¤šçš„ partitionï¼Œæ¯ä¸ª partition åŒ…å«ä¸€ä¸ªè¿›ç¨‹ã€‚å…¶è¦æ±‚æœ‰ï¼š</p>
<ul>
<li><strong>Protection:</strong>Â ä¿è¯è¿›ç¨‹ä¹‹é—´ä¸ä¼šäº’ç›¸é—¯å…¥å¯¹æ–¹çš„å­˜å‚¨ã€‚</li>
<li><strong>Fast execution:</strong>Â ä¸èƒ½ç”±äº protection é™ä½è®¿é—®å†…å­˜çš„æ•ˆç‡ã€‚</li>
<li><strong>Fast context switch:</strong>Â æ¯å½“è¿›è¡Œ context switch æ—¶ï¼Œå¯ä»¥æ¯”è¾ƒå¿«åœ°æ‰¾åˆ°å¹¶è®¿é—®å½“å‰è¿›ç¨‹çš„å†…å­˜ã€‚</li>
</ul>
<p>å½“è¿›ç¨‹è¿›å…¥ç³»ç»Ÿï¼Œæ“ä½œç³»ç»Ÿæ ¹æ®å„ä¸ªè¿›ç¨‹çš„å†…å­˜éœ€è¦ä»¥åŠå½“å‰çš„ç©ºé—²å†…å­˜ç©ºé—´æ¥å†³å®šä¸ºå“ªäº›è¿›ç¨‹åˆ†é…å†…å­˜ã€‚å½“ä¸€ä¸ªè¿›ç¨‹è¢«åˆ†é…åˆ°äº†ç©ºé—´ï¼Œä»–å°†è¢«è½½å…¥åˆ°å†…å­˜ä¸­ï¼Œå¹¶ä¸å…¶ä»–è¿›ç¨‹ç«äº‰ CPU æ—¶é—´ã€‚å½“ä¸€ä¸ªè¿›ç¨‹ç»“æŸæ—¶ï¼Œå®ƒé‡Šæ”¾å®ƒçš„ç©ºé—´ã€‚</p>
<p>å¦‚æœä¸€ä¸ªè¿›ç¨‹è¯·æ±‚ç©ºé—´æ¥è¿è¡Œï¼Œä½†è¿™é‡Œæ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜æ¥æ»¡è¶³å…¶è¦æ±‚ï¼Œæœ‰ä¸¤ç§å¯é€‰çš„è§£å†³åŠæ³•ã€‚ç¬¬ä¸€ç§æ˜¯ç›´æ¥æ‹’ç»å…¶è¯·æ±‚å¹¶ç»™å‡ºä¸€ä¸ªé”™è¯¯ä¿¡æ¯ï¼›å¦ä¸€ç§æ˜¯å°†å…¶åŠ å…¥ waiting queue ä¸­ï¼Œå½“æœ‰å†…å­˜è¢«é‡Šæ”¾æ—¶ CPU æ¥æ£€æŸ¥æ˜¯å¦ä¸ºå…¶åˆ†é…å†…å­˜ã€‚</p>
<h3 id="921-fixed-partition">9.2.1 Fixed Partition<a class="headerlink" href="#921-fixed-partition" title="Permanent link">&para;</a></h3>
<p>æˆ‘ä»¬å¯ä»¥è€ƒè™‘å›ºå®š partition çš„å¤§å°ï¼ˆé™¤äº† OS ä½¿ç”¨çš„å†…å­˜ï¼‰ã€‚è¿™ç§æ–¹å¼éå¸¸å®¹æ˜“å®ç°ï¼Œæˆ‘ä»¬åªéœ€è¦è®°å½•æ¯ä¸ª partition æ˜¯å¦è¢«å ç”¨å³å¯ã€‚ä½†æ˜¾ç„¶ï¼Œè¿™ç§æ–¹å¼ä¼šå¸¦æ¥å¾ˆå¤§çš„å†…å­˜æµªè´¹ã€‚å¦‚ä¸‹å›¾ï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1607166983517-8a8beafa-6934-4063-ba21-d3575fbb248f.png" /></center></p>
<p>å¦‚å›¾ Process 1 ä½¿ç”¨äº† Partition 1ï¼Œä½†å…¶æ‰€éœ€ç©ºé—´å°äº Partition 1 çš„å¤§å°ï¼Œå› æ­¤ä¼šå¯¼è‡´çº¢è‰²éƒ¨åˆ†çš„å†…å­˜æ²¡æœ‰è¢«ä½¿ç”¨ä¸”ä¸èƒ½è¢«åˆ«çš„è¿›ç¨‹ä½¿ç”¨ï¼ˆå› ä¸ºæ¯ä¸ª partition åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ï¼‰ã€‚ç”±äºè¿™æ˜¯ partition å†…éƒ¨çš„ä¸å¯ç”¨å†…å­˜ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º <strong>Internal Fragmentation</strong>ã€‚è¿™ä¼šå¸¦æ¥æå¤§çš„å†…å­˜æŸå¤±ï¼Œå°¤å…¶æ˜¯åœ¨è¿›ç¨‹ä¹‹é—´æ‰€éœ€å­˜å‚¨ç©ºé—´å¤§å°å·®è·å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼ˆå› ä¸ºæˆ‘ä»¬æ€»æ˜¯éœ€è¦æ ¹æ®æ‰€éœ€ç©ºé—´æœ€å¤§çš„è¿›ç¨‹åˆ‡åˆ†å†…å­˜ï¼‰ã€‚</p>
<h3 id="922-variable-partition">9.2.2 Variable Partition<a class="headerlink" href="#922-variable-partition" title="Permanent link">&para;</a></h3>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥è€ƒè™‘ä¸å›ºå®š partition çš„å¤§å°ã€‚åœ¨è¿™ç§æ–¹æ¡ˆä¸­ï¼Œæ“ä½œç³»ç»Ÿç»´æŠ¤ä¸€ä¸ªè¡¨ï¼Œè®°å½•å¯ç”¨å’Œå·²ç”¨çš„å†…å­˜ã€‚æœ€å¼€å§‹æ—¶æ•´ä¸ªå†…å­˜å°±æ˜¯ä¸€å¤§å—å¯ç”¨çš„å†…å­˜å—ï¼ˆå°†å¯ç”¨å†…å­˜å—ç§°ä¸º <strong>hole</strong>ï¼‰ï¼›ç»è¿‡ä¸€æ®µæ—¶é—´çš„è¿è¡Œåï¼Œå†…å­˜å¯èƒ½ä¼šåŒ…å«ä¸€ç³»åˆ—ä¸åŒå¤§å°çš„å­”ã€‚ä¸‹å›¾æ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1607163761491-4bcc427a-043d-4ee0-a244-32a94b913ce7.png" /></center></p>
<p>å¾ˆå¯èƒ½åœ¨è¿›è¡Œä¸€æ®µæ—¶é—´çš„è¿è¡Œåï¼Œç©ºé—²å†…å­˜ç©ºé—´è¢«åˆ†ä¸ºå¤§é‡çš„ holeï¼Œå®ƒä»¬æ€»ä½“åŠ èµ·æ¥å¯ä»¥æ»¡è¶³è¿›ç¨‹è¦æ±‚ï¼Œä½†å®ƒä»¬å¹¶ä¸è¿ç»­ï¼Œæ¯ä¸€ä¸ªå°çš„ hole éƒ½ä¸å¯ä»¥è¢«åˆ©ç”¨ã€‚æˆ‘ä»¬ç§°è¿™ç§é—®é¢˜ä¸º <strong>External Fragmentation</strong>ï¼Œå› ä¸ºè¿™äº›ä¸å¯ç”¨å†…å­˜æ˜¯åˆ†å¸ƒåœ¨ partition ä¹‹å¤–çš„ã€‚</p>
<h3 id="923-dynamic-storage-allocation-problem">9.2.3 Dynamic Storage-Allocation Problem<a class="headerlink" href="#923-dynamic-storage-allocation-problem" title="Permanent link">&para;</a></h3>
<p>æ ¹æ®ä¸€ç»„ hole æ¥åˆ†é…å¤§å°ä¸º n çš„è¯·æ±‚ï¼Œç§°ä¸º <strong>dynamic storage-allocation problem</strong>ã€‚è¿™ä¸ªé—®é¢˜æœ€å¸¸ç”¨çš„è§£å†³æ–¹æ³•åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>first-fit</strong>Â - åˆ†é…é¦–ä¸ªè¶³å¤Ÿå¤§çš„ holeã€‚è¿™ç§æ–¹æ³•ä¼šä½¿å¾—åˆ†é…é›†ä¸­åœ¨ä½åœ°å€åŒºï¼Œå¹¶åœ¨æ­¤å¤„äº§ç”Ÿå¤§é‡çš„ç¢ç‰‡ï¼Œåœ¨æ¯æ¬¡å°è¯•åˆ†é…çš„æ—¶å€™éƒ½ä¼šéå†åˆ°ï¼Œå¢å¤§æŸ¥æ‰¾çš„å¼€é”€ã€‚</li>
<li><strong>best-fit</strong>Â - åˆ†é…æœ€å°çš„è¶³å¤Ÿå¤§çš„ holeã€‚é™¤éç©ºé—²åˆ—è¡¨æŒ‰å¤§å°æ’åºï¼Œå¦åˆ™è¿™ç§æ–¹æ³•éœ€è¦å¯¹æ•´ä¸ªåˆ—è¡¨è¿›è¡Œéå†ã€‚è¿™ç§æ–¹æ³•åŒæ ·ä¼šç•™ä¸‹è®¸å¤šç¢ç‰‡ã€‚</li>
<li><strong>worst-fit</strong>Â - åˆ†é…æœ€å¤§çš„ holeã€‚åŒæ ·ï¼Œé™¤éåˆ—è¡¨æœ‰åºï¼Œå¦åˆ™æˆ‘ä»¬éœ€è¦éå†æ•´ä¸ªåˆ—è¡¨ã€‚è¿™ç§æ–¹æ³•çš„å¥½å¤„æ˜¯æ¯æ¬¡åˆ†é…åé€šå¸¸ä¸ä¼šä½¿å‰©ä¸‹çš„ç©ºé—²å—å¤ªå°ï¼Œè¿™åœ¨ä¸­å°è¿›ç¨‹è¾ƒå¤šçš„æƒ…å†µä¸‹æ€§èƒ½è¾ƒå¥½ï¼Œå¹¶ä¸”äº§ç”Ÿç¢ç‰‡çš„å‡ ç‡æ›´å°ã€‚</li>
</ul>
<blockquote>
<p>Simulations have shown that both first fit and best fit are better than worst fit in terms of decreasing time and storage utilization. Neither first fit nor best fit is clearly better than the other in terms of storage utilization, but first fit is generally faster.</p>
</blockquote>
<h3 id="924-protection">9.2.4 Protection<a class="headerlink" href="#924-protection" title="Permanent link">&para;</a></h3>
<p>æˆ‘ä»¬éœ€è¦ä¿è¯ä¸€ä¸ªè¿›ç¨‹èƒ½ä¸”ä»…èƒ½è®¿é—®è‡ªå·±ç©ºé—´ä¸­çš„åœ°å€ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€å¥— <strong>base</strong>Â å’Œ <strong>limit</strong>Â å¯„å­˜å™¨æ¥ç¡®å®šä¸€ä¸ªç¨‹åºçš„ç©ºé—´ï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1607173056927-1033a3fa-7210-465d-88d4-0522358a5e89.png" /></center></p>
<p>æ¯å½“ context switch åˆ°ä¸€ä¸ªæ–°çš„è¿›ç¨‹æ—¶ï¼ŒCPU ä¼š load è¿™ä¸¤ä¸ªå¯„å­˜å™¨çš„å€¼ã€‚æ¯å½“ user mode æƒ³è¦è¿›è¡Œä¸€æ¬¡å†…å­˜è®¿é—®æ—¶ï¼ŒCPU éƒ½è¦æ£€æŸ¥å…¶æ˜¯å¦è¯•å›¾è®¿é—®éæ³•åœ°å€ï¼›å¦‚æœæ˜¯ï¼Œåˆ™ä¼šå¼•å‘ä¸€ä¸ª trap å¹¶è¢«å½“åšè‡´å‘½é”™è¯¯å¤„ç†ï¼ˆé€šå¸¸ä¼š terminate æ‰è¿›ç¨‹ï¼‰ï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1607173398311-f9e4146e-d9b3-4f79-bbc6-534abd24dea1.png" /></center></p>
<h2 id="93-segmentation">9.3 Segmentation<a class="headerlink" href="#93-segmentation" title="Permanent link">&para;</a></h2>
<h3 id="931-basic-method">9.3.1 Basic Method<a class="headerlink" href="#931-basic-method" title="Permanent link">&para;</a></h3>
<p>è™½ç„¶æˆ‘ä»¬ç¨‹åºä¸­çš„ä¸»å‡½æ•°ã€æ•°ç»„ã€ç¬¦å·è¡¨ã€å­å‡½æ•°ç­‰ç­‰å†…éƒ¨éœ€è¦æœ‰ä¸€å®šçš„é¡ºåºï¼Œä½†æ˜¯è¿™äº›æ¨¡å—ä¹‹é—´çš„å…ˆåé¡ºåºæ˜¯æ— å…³ç´§è¦çš„ã€‚å› æ­¤ï¼Œè™½ç„¶å®é™…ä¸Šå†…å­˜æ˜¯ä¸€ä¸ªçº¿æ€§çš„å­—èŠ‚æ•°ç»„ï¼Œä½†æ˜¯åœ¨ç”¨æˆ·çœ‹æ¥ï¼Œä¸€ä¸ªç¨‹åºé•¿æˆè¿™ä¸ªæ ·å­ï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1607173980090-f51400f7-53ed-4288-82b7-ab51686659c4.png" /></center></p>
<p>å³ï¼Œä¸€ä¸ªç¨‹åºæ˜¯ç”±ä¸€ç»„ <strong>segment</strong>Â ï¼ˆæ®µï¼‰æ„æˆçš„ï¼Œæ¯ä¸ª segment éƒ½æœ‰å…¶åç§°å’Œé•¿åº¦ã€‚æˆ‘ä»¬åªè¦çŸ¥é“ segment åœ¨ç‰©ç†å†…å­˜ä¸­çš„åŸºåœ°å€ (base) å’Œæ®µå†…åç§»åœ°å€ (offset) å°±å¯ä»¥å¯¹åº”åˆ°ç‰©ç†åœ°å€ä¸­äº†ã€‚å¯¹äºæ¯ä¸€ä¸ª segmentï¼Œæˆ‘ä»¬ç»™å…¶ä¸€ä¸ªç¼–å·ã€‚å³ï¼Œæˆ‘ä»¬é€šè¿‡äºŒå…ƒæœ‰åºç»„ <segment-number, offset> è¡¨ç¤ºäº†ä¸€ä¸ªåœ°å€ã€‚è¿™ç§è¡¨ç¤ºç§°ä¸º <strong>logical address</strong>ï¼ˆé€»è¾‘åœ°å€ï¼‰æˆ– <strong>virtual address</strong>ï¼ˆè™šæ‹Ÿåœ°å€ï¼‰ã€‚</p>
<p>é€šå¸¸ï¼Œåœ¨ç¼–è¯‘ç”¨æˆ·ç¨‹åºæ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ„é€ æ®µã€‚</p>
<h3 id="932-logical-address--mmu">9.3.2 Logical Address &amp; MMU<a class="headerlink" href="#932-logical-address--mmu" title="Permanent link">&para;</a></h3>
<p>è¦å°†é€»è¾‘åœ°å€æ˜ å°„åˆ°ç‰©ç†åœ°å€ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ®µçš„åŸºåœ°å€ã€‚æˆ‘ä»¬æœ‰ä¸€ä¸ª <strong>segment table</strong>ï¼Œå…¶ä¸­æ¯ä¸ªæ¡ç›®ä»¥ segment-number ç´¢å¼•ï¼Œå­˜å‚¨å…¶ <strong>æ®µåŸºåœ°å€ segment-base</strong> å’Œ <strong>æ®µç•Œé™ segment-limit</strong>ï¼ˆå¯èƒ½è¿˜åŒ…å«æƒé™ä½ï¼‰ã€‚å› æ­¤é€»è¾‘åœ°å€çš„æ˜ å°„æ–¹å¼å¦‚ä¸‹å›¾ï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1607174824580-301e3bfc-fa6b-432d-abc0-1904745e978e.png" /></center></p>
<p>è¿™ä¸€è¿‡ç¨‹æ˜¯ç”±ç¡¬ä»¶è®¾å¤‡ <strong>MMU (Memory-Management Unit, å†…å­˜ç®¡ç†å•å…ƒ)</strong>Â å®Œæˆçš„ã€‚CPU ä½¿ç”¨çš„æ˜¯é€»è¾‘åœ°å€ï¼Œè€Œå†…å­˜å¯»å€ä½¿ç”¨çš„æ˜¯ç‰©ç†åœ°å€ï¼ŒMMU å®Œæˆçš„æ˜¯ç¿»è¯‘ï¼ˆæ˜ å°„ï¼‰å’Œä¿æŠ¤å·¥ä½œï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1607178431205-e94fc681-f3d4-4f7c-890b-bc3d7371cb3d.png" /></center></p>
<p>è¿™é‡Œçš„ <strong>relocation register</strong>Â å³ä¸º base registerã€‚</p>
<h3 id="933-problems">9.3.3 Problems<a class="headerlink" href="#933-problems" title="Permanent link">&para;</a></h3>
<p>åˆ†æ®µå°†ä¸€ä¸ªç¨‹åºåˆ†ä¸ºæ•°ä¸ªéƒ¨åˆ†ï¼Œä½†æ˜¯å…¶å†…å­˜åˆ†é…çš„ç­–ç•¥ä¸ç®€å•çš„ partition æ˜¯ä¸€è‡´çš„ã€‚å› æ­¤ï¼Œåˆ†æ®µä»ç„¶ä¼šå­˜åœ¨ external fragmentation çš„é—®é¢˜ã€‚å†æ¬¡å›é¡¾è¿™ä¸ªé—®é¢˜ï¼šå…¶è¡¨å¾æ˜¯æ€»ç©ºä½™å†…å­˜æ˜¯è¶³å¤Ÿçš„ï¼Œä½†æ˜¯ç”±äºå®ƒä¸è¿ç»­å¯¼è‡´å…¶æ— æ³•ä½¿ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªé—®é¢˜çš„æ ¸å¿ƒç‚¹åœ¨äº <strong>not contiguous</strong>ã€‚æˆ‘ä»¬æœ‰ä¸¤ç§æ€è·¯æ¥è§£å†³è¿™ä¸€é—®é¢˜ï¼šå°†å†…å­˜é‡æ’ä½¿å¾— holes è¿æˆä¸€å—ï¼›æˆ–è€…è®¾è®¡æ–¹æ¡ˆè®©ç¨‹åºä¸å†éœ€è¦è¿ç»­çš„åœ°å€ã€‚</p>
<p><strong>Compaction</strong>Â å°±æ˜¯å°†å†…å­˜ä¸­çš„å†…å®¹é‡æ’ä½¿å¾—æ‰€æœ‰ç©ºé—²ç©ºé—´è¿ç»­ã€‚è¿™ä¸€æ“ä½œè¦æ±‚å†…å­˜ä¸­çš„ç¨‹åºæ˜¯ <strong>relocatable</strong>Â  çš„ï¼Œå³å…¶åœ°å€æ˜¯ç›¸å¯¹ base çš„åç§»ï¼›è¿™ä¸€è¦æ±‚åœ¨å‰é¢ä¸¤ç§å†…å­˜åˆ†é…æ–¹å¼ä¸­æ˜¯æ»¡è¶³çš„ã€‚ä½†æ˜¯è¿™ä¸€æ“ä½œéœ€è¦å°†å†…å­˜é€ä¸€å¤åˆ¶ï¼Œè¿™å°†æ¶ˆè€—å¾ˆå¤šæ—¶é—´ã€‚</p>
<p>è€ƒè™‘ã€Œè®©ç¨‹åºä¸å†éœ€è¦è¿ç»­çš„åœ°å€ã€ã€‚å®é™…ä¸Šï¼Œåˆ†æ®µå·²ç»æ˜¯è¿™ä¸ªæ–¹å‘ä¸Šåšå‡ºçš„ä¸€ç§å°è¯•äº†ï¼Œå› ä¸ºå®ƒå°†ç¨‹åºåˆ†ä¸ºäº†å‡ å—ï¼Œç›¸æ¯”äºç®€å•çš„ partitionï¼Œåˆ†æ®µæœ‰åŠ©äºå‡å° external fragmentationã€‚ä¸ºäº†æ›´å¥½åœ°è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æå‡º pagingã€‚</p>
<h2 id="94-paging">9.4 Paging<a class="headerlink" href="#94-paging" title="Permanent link">&para;</a></h2>
<p>Paging ï¼ˆåˆ†é¡µï¼‰æ˜¯ä¸€ç§å…è®¸è¿›ç¨‹çš„ç‰©ç†åœ°å€ç©ºé—´ä¸è¿ç»­çš„å†…å­˜ç®¡ç†æ–¹æ¡ˆã€‚å®ƒé¿å…äº† external fragmentation å’Œ Compactionã€‚å„ç§å½¢å¼çš„ paging è¢«å¤§å¤šæ•°æ“ä½œç³»ç»Ÿé‡‡ç”¨ï¼›å®ç° paging éœ€è¦ OS å’Œç¡¬ä»¶çš„åä½œã€‚</p>
<h3 id="941-basic-method">9.4.1 Basic Method<a class="headerlink" href="#941-basic-method" title="Permanent link">&para;</a></h3>
<p>æˆ‘ä»¬å°† physical memory åˆ‡åˆ†æˆç­‰å¤§å°çš„å—ï¼ˆ2 çš„å¹‚ï¼Œé€šå¸¸ä¸º 4KB = 2<sup>12</sup>Bï¼‰ï¼Œç§°ä¸º <strong>frames</strong>ï¼ˆå¸§ï¼‰ï¼›å°† logical memory åˆ‡åˆ†æˆåŒæ ·å¤§å°çš„å—ï¼Œç§°ä¸º <strong>pages</strong>ï¼ˆé¡µï¼‰ã€‚å½“ä¸€ä¸ªè¿›ç¨‹è¦æ‰§è¡Œæ—¶ï¼Œå…¶å†…å®¹å¡«åˆ°ä¸€äº›å¯ç”¨çš„ frame ä¸­ï¼Œå…¶ä¸­çš„æ¯ä¸€ä¸ªåœ°å€å¯ä»¥ç”¨è¿™ä¸ª frame çš„ base æˆ– numberï¼ˆç”±äº frame æ˜¯è¢«ç­‰å¤§åˆ‡åˆ†å‡ºæ¥çš„ï¼Œå› æ­¤æ¯ä¸ª frame çš„ base ä¹Ÿå”¯ä¸€å¯¹åº”ä¸€ä¸ª frame numberï¼‰ä»¥åŠç›¸å¯¹è¿™ä¸ª base çš„ offset è¡¨ç¤ºï¼›åŒæ—¶ CPU ç”Ÿæˆé€»è¾‘åœ°å€ï¼Œé€»è¾‘åœ°å€åŒ…å«ä¸€ä¸ª page number å’Œä¸€ä¸ª page offsetï¼›å¦æœ‰ä¸€ä¸ª <strong>page table</strong>ï¼Œå®ƒä»¥ page number ç´¢å¼•ï¼Œå…¶ä¸­çš„ç¬¬ <em>i</em>Â é¡¹å­˜å‚¨çš„æ˜¯ page number ä¸º <em>i</em>Â çš„ page æ‰€åœ¨ç‰©ç†å†…å­˜çš„ frame çš„ baseã€‚è¿™æ ·ï¼Œæ¯ä¸€ä¸ª page å°†é€šè¿‡å…¶ page number æ˜ å°„åˆ°ä¸€ä¸ª frame ä¸Šï¼›è¿›è€Œ page ä¸­çš„æ¯ä¸€ä¸ªåœ°å€ä¹Ÿé€šè¿‡ offset ä¸å¯¹åº”çš„ frame å»ºç«‹æ˜ å°„ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ MMU éœ€è¦å°†ä¸€ä¸ª logical address ç¿»è¯‘ä¸º physical address æ—¶ï¼Œå®ƒéœ€è¦è·å– page number <em>p</em>ï¼Œåœ¨ page table ä¸­æ‰¾åˆ°ç¬¬ <em>p</em>Â ä¸ª page å¯¹åº”çš„çš„ frame numberï¼ˆä¹Ÿå°±æ˜¯ frame baseï¼‰ <em>f</em>Â ï¼Œåœ¨ <em>f</em>Â åé¢è¿æ¥ä¸Š offset <em>d</em>Â å°±å¾—åˆ°äº†å¯¹åº”çš„ physical addressã€‚å¦‚æˆ‘ä»¬ä¹‹å‰æ‰€è¯´ï¼Œlogical address å’Œ physical address çš„ offset åº”æ˜¯ä¸€è‡´çš„ã€‚</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1607246277584-f411cbef-5c44-4836-a122-7e706e635301.png" /></center></p>
<p>å½“ä¸€ä¸ªè¿›ç¨‹éœ€è¦æ‰§è¡Œæ—¶ï¼Œå…¶æ¯ä¸€é¡µéƒ½éœ€è¦ä¸€å¸§ã€‚å› æ­¤ï¼Œå¦‚æœè¿›ç¨‹éœ€è¦ n é¡µï¼Œåˆ™å†…å­˜ä¸­éœ€è¦æœ‰ n ä¸ªå¸§ã€‚å¦‚æœæœ‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥åˆ†é…ç»™æ–°è¿›ç¨‹ï¼šè¿›ç¨‹çš„æ¯ä¸€é¡µè£…å…¥ä¸€ä¸ªå¸§ï¼Œframe number æ”¾å…¥è¿›ç¨‹çš„ page table ä¸­ã€‚</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1607256792913-2f25d013-6682-49ac-80c2-bfd8ed020e69.png" /></center></p>
<p>ç”±äºæ“ä½œç³»ç»Ÿç®¡ç†ç‰©ç†å†…å­˜ï¼Œå®ƒåº”è¯¥çŸ¥é“ç‰©ç†å†…å­˜çš„åˆ†é…ç»†èŠ‚ï¼Œå³å…±æœ‰å¤šå°‘å¸§ã€å¸§æ˜¯å¦ç©ºé—²ç­‰ã€‚è¿™äº›ä¿¡æ¯ä¿å­˜åœ¨ <strong>frame table</strong>Â ä¸­ï¼Œæ¯ä¸ªæ¡ç›®å¯¹åº”ä¸€ä¸ªå¸§ï¼Œä¿å­˜å…¶æ˜¯å¦è¢«å ç”¨ï¼›å¦‚æœè¢«å ç”¨ï¼Œæ˜¯è¢«å“ªä¸ªè¿›ç¨‹çš„å“ªä¸ªé¡µå ç”¨ã€‚</p>
<h3 id="942-why-not-contiguous">9.4.2 Why "Not Contiguous"<a class="headerlink" href="#942-why-not-contiguous" title="Permanent link">&para;</a></h3>
<p>è€ƒè™‘è¿™ç§æ–¹å¼ä¸ºä»€ä¹ˆèƒ½å¤Ÿæ»¡è¶³ã€Œnot contiguousã€ï¼šåœ¨å‰é¢ä¸¤ç§æ–¹å¼ï¼Œæˆ‘ä»¬éœ€è¦ contiguous æ˜¯å› ä¸ºåœ¨è¿è¡Œæ¯æ¡æŒ‡ä»¤è¿‡å PC ä¼š +1ï¼Œå› æ­¤æˆ‘ä»¬è¦ä¿è¯ contiguousï¼Œä»è€Œè®© PC+1 ç¡®å®æŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚è€Œåœ¨ paging ä¸­ï¼Œæˆ‘ä»¬å®é™…ä¸Šä»ç„¶ä¿è¯äº† PC+1 åç¡®å®æŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œåªæ˜¯ paging å§‹ç»ˆä¿å­˜çš„éƒ½æ˜¯ logical addressã€‚Logical address çš„æ ¼å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1607247135113-1998902c-c1c0-4d78-8d21-99766857be7e.png" /></center></p>
<p>å¯è§ï¼Œå½“ <em>d</em>Â æ˜¯Â <span class="arithmatex">\(2^n - 1\)</span>Â æ—¶ï¼Œ <span class="arithmatex">\(&lt;p, d&gt;Â + 1\)</span> å³ä¸º <span class="arithmatex">\(&lt;p+1, 0&gt;\)</span>ï¼ˆå°±æ˜¯äºŒè¿›åˆ¶è¿›äº†ä½ï¼‰ã€‚è¿™æ—¶è™½ç„¶ä¸€ä¸ª page å·²ç»ç»“æŸï¼Œè¿›å…¥åˆ°äº†ä¸‹ä¸€ä¸ª pageï¼Œè¿™ä¸¤ä¸ª page å¯¹åº”çš„ frame ä¸ä¸€å®šè¿ç»­ï¼Œä½† logical address æ˜¯è¿ç»­çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ç”¨ logical address çš„è¿ç»­ä»£æ›¿äº† physical address çš„è¿ç»­ã€‚</p>
<p>ä¸‹å›¾æ˜¯ä¸€ä¸ªæ›´ä¸ºå…·ä½“çš„ä¾‹å­ï¼šå‡å¦‚æ¯ä¸ªé€»è¾‘åœ°å€æœ‰ 4 ä½ï¼Œå…¶ä¸­ <em>p</em>Â å’Œ <em>d</em>Â å„å  2 ä½ã€‚ä¾‹å¦‚ MMU éœ€è¦å¯»æ‰¾é€»è¾‘åœ°å€ 1101[13] å¯¹åº”çš„ç‰©ç†åœ°å€ä»è€Œè·å¾—å…¶ä¸­çš„å†…å®¹ï¼Œå®ƒé¦–å…ˆå– 1101[13] çš„å‰ 2 ä½ 11[3]ï¼Œè¯»å– page table çš„ç¬¬ 3 é¡¹ï¼Œç»“æœä¸º 010[2]ï¼ˆframe number ä¸æ­¢ 2 ä½ï¼Œå› ä¸º frame ä¸æ­¢ 4 ä¸ªï¼‰ï¼Œç„¶åå°† frame number 10 ä¸ offset 01 è¿èµ·æ¥ï¼Œå³ 01001[9]ï¼Œå› æ­¤ logical address 1101[13] å¯¹åº”çš„æ˜¯ physical address 01001[9]ï¼Œå†…å®¹ä¸º <em>n</em>Â ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶åœ¨ logical memory çš„è§†è§’é‡Œï¼Œh å’Œ i æ˜¯ç›¸è¿çš„ï¼›ä½†å®é™…ä¸Šï¼Œlogical address 0111[7] å¯¹åº”çš„ physical address ä¸º 11011[27]ï¼Œlogical address 1000[8] å¯¹åº”çš„ physical address ä¸º 00100[4]ï¼Œåœ¨ physical memory ä¸­æ˜¯ä¸è¿ç»­çš„ã€‚</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1607247406162-e2af6ba3-2fef-4a99-9aa8-2b842b6e3f09.png" /></center></p>
<blockquote>
<p>Every logical address is bound by the paging hardware to some physical address. Using paging is similar to using a table of base (or relocation) registers, one for each frame of memory.</p>
</blockquote>
<h3 id="943-hardware-support">9.4.3 Hardware Support<a class="headerlink" href="#943-hardware-support" title="Permanent link">&para;</a></h3>
<p>Page table æ˜¯æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä»½çš„ç»“æ„ï¼Œå…¶ç¡¬ä»¶å®ç°æœ‰å¤šç§æ–¹æ³•ã€‚</p>
<h4 id="9431-simplest-method">9.4.3.1 Simplest method<a class="headerlink" href="#9431-simplest-method" title="Permanent link">&para;</a></h4>
<p>æœ€ç®€å•çš„æ–¹æ³•æ˜¯ç”¨ä¸€ç»„ä¸“ç”¨çš„å¯„å­˜å™¨æ¥å®ç°ã€‚è¿™ä¸€å®ç°æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯ä½¿ç”¨æ—¶éå¸¸è¿…é€Ÿï¼Œå› ä¸ºå¯¹å¯„å­˜å™¨çš„è®¿é—®æ˜¯ååˆ†é«˜æ•ˆçš„ã€‚ä½†æ˜¯ï¼Œç”±äºæˆæœ¬ç­‰åŸå› ï¼Œå¯„å­˜å™¨çš„æ•°é‡æœ‰é™ï¼Œå› æ­¤è¿™ç§æ–¹æ³•è¦æ±‚ page table çš„å¤§å°å¾ˆå°ï¼›åŒæ—¶ï¼Œç”±äºä¸“ç”¨å¯„å­˜å™¨åªæœ‰ä¸€ç»„ï¼Œå› æ­¤ context switch æ—¶éœ€è¦å­˜å‚¨å¹¶é‡æ–°åŠ è½½è¿™äº›å¯„å­˜å™¨ã€‚</p>
<h4 id="9432-page-table-in-memory--ptbr">9.4.3.2 Page table in memory &amp; PTBR<a class="headerlink" href="#9432-page-table-in-memory--ptbr" title="Permanent link">&para;</a></h4>
<p>å¤§å¤šæ•°ç°ä»£è®¡ç®—æœºå…è®¸é¡µè¡¨éå¸¸å¤§ï¼Œå› æ­¤å¯¹äºè¿™äº›æœºå™¨ï¼Œé‡‡ç”¨å¿«é€Ÿå¯„å­˜å™¨å®ç°é¡µè¡¨å°±ä¸å¯è¡Œäº†ã€‚æˆ‘ä»¬å°†é¡µè¡¨æ”¾åœ¨å†…å­˜ä¸­ï¼Œå¹¶ç”¨ <strong>Page-Table Base Register (PTBR)</strong>Â æŒ‡å‘é¡µè¡¨ã€‚åœ¨ context switch æ—¶åªéœ€è¦ä¿®æ”¹ PTBRã€‚</p>
<p>ä½†æ˜¯è¿™ç§æ–¹æ³•çš„æ•ˆç‡å­˜åœ¨é—®é¢˜ã€‚è¦è®¿é—® logical address å¯¹åº”çš„ physical addressï¼Œæˆ‘ä»¬é¦–å…ˆè¦æ ¹æ® PTBR å’Œ page number æ¥æ‰¾åˆ°é¡µè¡¨åœ¨å†…å­˜çš„ä½ç½®ï¼Œå¹¶åœ¨å…¶ä¸­å¾—åˆ° page å¯¹åº”çš„ frame numberï¼Œè¿™éœ€è¦ä¸€æ¬¡å†…å­˜è®¿é—®ï¼›ç„¶åæˆ‘ä»¬æ ¹æ® frame number å’Œ page offset ç®—å‡ºçœŸå®çš„ physical addressï¼Œå¹¶è®¿é—®å¯¹åº”çš„å­—èŠ‚å†…å®¹ã€‚å³ï¼Œè®¿é—®ä¸€ä¸ªå­—èŠ‚éœ€è¦ä¸¤æ¬¡å†…å­˜è®¿é—®ï¼Œè¿™ä¼šåŠ å€åŸæœ¬çš„å†…å­˜è®¿é—®çš„æ—¶é—´ï¼Œè¿™æ˜¯éš¾ä»¥æ¥å—çš„ã€‚</p>
<h4 id="9433-tlb">9.4.3.3 TLB<a class="headerlink" href="#9433-tlb" title="Permanent link">&para;</a></h4>
<p>è¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ³•ç”¨åˆ°ä¸€ä¸ªä¸“ç”¨çš„é«˜é€ŸæŸ¥æ‰¾ç¡¬ä»¶ cache (<strong>associative memory</strong>ï¼Œæ”¯æŒ <strong>parallel search</strong>)ï¼Œè¿™é‡Œç§°å®ƒä¸º <strong>translation look-aside buffer (TLB)</strong>ã€‚TLB çš„æ¯ä¸ªæ¡ç›®ç”± key &amp; value ç»„æˆï¼Œåˆ†åˆ«è¡¨ç¤º page number å’Œ frame numberï¼Œé€šå¸¸æœ‰ 64~1024 ä¸ªæ¡ç›®ï¼ˆPPT ä¸Šè¯´ 64~1024ï¼Œè¯¾æœ¬ä¸Šè¯´ 32~1024ï¼ŒåŒºåˆ«ä¸å¤§ï¼‰ã€‚å½“æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ª page number å¯¹åº”çš„ frame number æ—¶ï¼ŒTLB ä¼š <strong>åŒæ—¶</strong>Â ä¸å…¶ä¸­æ‰€æœ‰çš„ key è¿›è¡Œæ¯”è¾ƒï¼šå¦‚æœæ‰¾åˆ°å¯¹åº”æ¡ç›®ï¼Œå°±ä¸å¿…è®¿é—®å†…å­˜ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼ˆç§°ä¸º <strong>TLB miss</strong>ï¼‰ï¼Œåˆ™è®¿é—®å†…å­˜å¹¶å°†æ–°çš„ key &amp; value å­˜å…¥ TLB ä¸­ï¼Œè¿™ä¼šæ›¿æ¢æ‰ TLB åŸæœ‰çš„ä¸€ä¸ªæ¡ç›®ã€‚æ›¿æ¢çš„ç­–ç•¥åŒ…æ‹¬ least recently used (LRU), round-robin, random ç­‰ã€‚æœ‰äº› TLB æ”¯æŒå°†æŸäº›æ¡ç›® wired downï¼Œå³ä»–ä»¬ä¸ä¼šä» TLB ä¸­è¢«æ›¿æ¢ã€‚é‡è¦çš„å†…æ ¸ä»£ç ä¸€èˆ¬ä¼šè¢« wired downã€‚åœ¨ MIPS æ¶æ„ä¸­ï¼ŒTLB miss ä½œä¸º exception ç”±æ“ä½œç³»ç»Ÿå¤„ç†ï¼›åœ¨ X86 æ¶æ„ä¸­ï¼ŒTLB miss ç”±ç¡¬ä»¶å¤„ç†ã€‚</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1608307492634-3bc89aa8-75d3-4cdb-ad08-07b122c5d0d6.png" /></center></p>
<h4 id="9434-tlb-with-asid">9.4.3.4 TLB with ASID<a class="headerlink" href="#9434-tlb-with-asid" title="Permanent link">&para;</a></h4>
<p>å¦‚åŒæˆ‘ä»¬æåˆ°è¿‡çš„ï¼Œæ¯ä¸ª process éƒ½æœ‰å…¶è‡ªå·±çš„ page tableã€‚å› æ­¤åˆ‡æ¢è¿›ç¨‹æ—¶ä¹Ÿéœ€è¦åˆ‡æ¢ page tableã€‚äº¦å³ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯ TLB ä¸å½“å‰è¿›ç¨‹çš„ page table æ˜¯ä¸€è‡´çš„ã€‚ä¸ºäº†ä¿è¯è¿™ä¸€è¦æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¯æ¬¡åˆ‡æ¢æ—¶ <strong>flush</strong> TLBã€‚æˆ–è€…ï¼Œæœ‰äº› TLB è¿˜åœ¨æ¯ä¸ªæ¡ç›®ä¸­ä¿å­˜ <strong>Address-Space Identifier (ASID)</strong>ï¼Œæ¯ä¸ª ASID å”¯ä¸€æ ‡è¯†ä¸€ä¸ªè¿›ç¨‹ã€‚å½“ TLB è¿›è¡ŒåŒ¹é…æ—¶ï¼Œé™¤äº† page number å¤–ä¹Ÿå¯¹ ASID è¿›è¡ŒåŒ¹é…ã€‚</p>
<h4 id="9435-effective-memory-access-time">9.4.3.5 Effective memory-access time<a class="headerlink" href="#9435-effective-memory-access-time" title="Permanent link">&para;</a></h4>
<p>æˆ‘ä»¬ç§°æ²¡æœ‰å‘ç”Ÿ TLB miss çš„æ¬¡æ•°çš„ç™¾åˆ†æ¯”ä¸º <strong>hit ratio</strong>ï¼Œè¿™é‡Œè®°ä¸º <span class="arithmatex">\(r\)</span>ã€‚è®¾æ¯ä¸€æ¬¡å†…å­˜è®¿é—®çš„ç”¨æ—¶ä¸º <span class="arithmatex">\(t\)</span>ï¼Œé‚£ä¹ˆ TLB hit çš„æƒ…å†µä¸‹è®¿é—®å­—èŠ‚æ€»å…±ç”¨æ—¶ <span class="arithmatex">\(t\)</span>ï¼›è€Œ TLB miss çš„æƒ…å†µä¸‹ç”¨æ—¶ <span class="arithmatex">\(2t\)</span>ã€‚å› æ­¤æœ‰æ•ˆå†…å­˜è®¿é—®æ—¶é—´ï¼ˆeffective memory-access timeï¼‰<span class="arithmatex">\(\text{EAT} = t\cdot r + 2t(1-r) = t(2-r)\)</span>ï¼Œç›¸æ¯”å°† page table ä¿å­˜åœ¨å¯„å­˜å™¨ä¸­çš„æ–¹å¼ï¼Œå¹³å‡å†…å­˜è®¿é—®æ—¶é—´å¤šäº† <span class="arithmatex">\(\cfrac{t(2-r)-t}{t} = 1 - r\)</span>ã€‚å³ï¼Œå¦‚æœ hit ratio ä¸º 99%ï¼Œé‚£ä¹ˆå¹³å‡å†…å­˜è®¿é—®æ—¶é—´åªå¤šäº† 1%ã€‚</p>
<h3 id="944-memory-protection">9.4.4 Memory Protection<a class="headerlink" href="#944-memory-protection" title="Permanent link">&para;</a></h3>
<p>åˆ†é¡µç¯å¢ƒä¸‹çš„å†…å­˜ä¿æŠ¤ç”±ä¸æ¯ä¸ª frame å…³è”çš„ protection bits å®ç°ã€‚è¿™äº› bits é€šå¸¸ä¿å­˜åœ¨é¡µè¡¨ä¸­ã€‚ä¾‹å¦‚ valid-invalid bitï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1608313932761-5d0bfb7a-8f21-4839-b0d1-10eadec0091c.png" /></center></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œin a system with a 14-bit address space (0 to 16383), we have a program that should use only addresses 0 to 10468. Given a page size of 2 KB, we have the situation shown in Figure 9.13. Addresses in pages 0, 1, 2, 3, 4, and 5 are mapped normally through the page table. Any attempt to generate an address in pages 6 or 7, however, will find that the validâ€“invalid bit is set to invalid, and the computer will trap to the operating system (invalid page reference).</p>
<p>Notice that this scheme has created a problem. Because the program extends only to address 10468, any reference beyond that address is illegal. However, references to page 5 are classified as valid, so accesses to addresses up to 12287 are valid. Only the addresses from 12288 to 16383 are invalid. This problem is a result of the 2-KB page size and reflects the internal fragmentation of paging.</p>
<p>Some systems provide hardware, in the form of a <strong>page-table length register (PTLR)</strong>Â , to indicate the size of the page table. This value is checked against every logical address to verify that the address is in the valid range for the process. Failure of this test causes an error trap to the operating system.</p>
<h3 id="945-shared-pages">9.4.5 Shared Pages<a class="headerlink" href="#945-shared-pages" title="Permanent link">&para;</a></h3>
<p>åˆ†é¡µå¯ä»¥å…è®¸è¿›ç¨‹é—´å…±äº«ä»£ç ï¼Œä¾‹å¦‚åŒä¸€ç¨‹åºçš„å¤šä¸ªè¿›ç¨‹å¯ä»¥ä½¿ç”¨åŒä¸€ä»½ä»£ç ï¼Œåªè¦è¿™ä»½ä»£ç æ˜¯ <strong>reentrant code</strong>Â ï¼ˆor <strong>non-self-modifying code</strong>Â : never changes between executionï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1608314631450-226b38f7-993d-4fc8-a34e-3f46ffecf337.png" /></center></p>
<p>å›¾ä¸­æ‰€è¿°çš„æ˜¯å¤šä¸ªè¿›ç¨‹å…±äº«ä¸€ä»½åº“ä»£ç çš„æƒ…å†µï¼›å…±äº«è¿˜å¯ä»¥ç”¨äºè¿›ç¨‹ä¹‹é—´çš„äº¤æµã€‚å½“ç„¶ï¼Œæ¯ä¸ªè¿›ç¨‹ä¹Ÿå¯ä»¥æœ‰å…¶è‡ªå·±çš„ä»£ç å’Œæ•°æ®ã€‚</p>
<h3 id="946-problems">9.4.6 Problems<a class="headerlink" href="#946-problems" title="Permanent link">&para;</a></h3>
<p>Paging ä¼šå¯¼è‡´å†…éƒ¨ç¢ç‰‡ã€‚å³ï¼Œåˆ†é…æ˜¯ä»¥ frame ä¸ºå•ä½æ‰§è¡Œçš„ï¼Œå¦‚æœè¿›ç¨‹è¦æ±‚çš„å†…å­˜ä¸æ˜¯ frame å¤§å°çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆæœ€åä¸€ä¸ª frame å°±ä¼šç”¨ä¸å®Œï¼Œäº§ç”Ÿå†…éƒ¨ç¢ç‰‡ã€‚æœ€åçš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªéœ€è¦ <em>n pages + 1 byte</em> çš„è¿›ç¨‹éœ€è¦åˆ†é… <em>n+1</em> ä¸ª frameï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿ <em>FrameSize - 1</em> é‚£ä¹ˆå¤§çš„ Internal Fragmentationã€‚</p>
<p>å¦‚æœè¿›ç¨‹çš„å¤§å°ä¸é¡µå¤§å°æ— å…³ï¼Œæ¯ä¸ªè¿›ç¨‹ä¸­å†…éƒ¨ç¢ç‰‡çš„å‡å€¼ä¸º <em>&frac12; FrameSize</em>ã€‚åœ¨å®é™…æƒ…å†µä¸­ï¼Œå¹³å‡å€¼æ¯”è¿™å°å¾ˆå¤šã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¸èƒ½ä¸ºäº†å‡å°å†…éƒ¨ç¢ç‰‡è€Œå°† frame çš„å¤§å°æ— é™å‡å°ï¼Œå› ä¸ºæ›´å°çš„ frame size éœ€è¦æ›´å¤šçš„é¡µè¡¨é¡¹ã€‚</p>
<h2 id="95-structure-of-page-table">9.5 Structure of Page Table<a class="headerlink" href="#95-structure-of-page-table" title="Permanent link">&para;</a></h2>
<h3 id="951-hierarchical-paging">9.5.1 Hierarchical Paging<a class="headerlink" href="#951-hierarchical-paging" title="Permanent link">&para;</a></h3>
<p>å¦‚æˆ‘ä»¬åœ¨ 9.4.1 ä¸­æ‰€è¿°ï¼Œé¡µè¡¨æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œ <code>page_table[i]</code> ä¸­å­˜å‚¨çš„æ˜¯ page number ä¸º i çš„ page æ‰€å¯¹åº”çš„ frame numberã€‚è€ƒè™‘æˆ‘ä»¬çš„é€»è¾‘åœ°å€ç»“æ„ï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1607247135113-1998902c-c1c0-4d78-8d21-99766857be7e.png" /></center></p>
<p>è¿™æ ·çš„é€»è¾‘åœ°å€ç»“æ„éœ€è¦ä¸€ä¸ªå­˜å‚¨ 2<sup>p</sup>Â ä¸ªå…ƒç´ çš„ page tableï¼Œå³éœ€è¦è¿™ä¹ˆå¤§çš„è¿ç»­å†…å­˜ï¼Œè¿™æ˜¯éå¸¸å¤§çš„æ¶ˆè€—ã€‚æˆ‘ä»¬è€ƒè™‘å°† p å†åˆ†ä¸º p<sub>1</sub>Â å’Œ p<sub>2</sub>Â ï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1608315590109-e84d3ab8-0a2d-4e6a-becd-d10f57d45f2f.png" /></center></p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1608315596044-0e1ba30c-ca5d-4f3a-ae2f-f792f992a1b1.png" /></center></p>
<p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªä¸¤çº§é¡µè¡¨ï¼Œ <code>outer_page_table[i]</code>Â ä¸­å­˜å‚¨çš„æ˜¯ p<sub>1</sub>Â ä¸º i çš„ inner page tableï¼Œå³<code>inner_page_table[i][]</code> çš„åŸºåœ°å€ï¼›è€Œ <code>inner_page_table[i][j]</code> ä¸­å­˜å‚¨çš„å°±æ˜¯ p<sub>1</sub>Â ä¸º iï¼Œp<sub>2</sub>Â ä¸º j çš„ page å¯¹åº”çš„ frame numberï¼Œå³ page number ä¸º p<sub>1</sub>p<sub>2</sub>Â ï¼ˆæ²¡æœ‰åˆ†å‰²æ—¶çš„ pï¼‰å¯¹åº”çš„ frame numberã€‚</p>
<p>è¿™é‡Œï¼Œæˆ‘ä»¬ç§° p<sub>1</sub>Â ä¸º <strong>page directory number</strong>Â ï¼Œp<sub>2</sub>Â ä¸º <strong>page table number</strong>ï¼Œd ä¸º <strong>page offset</strong>ã€‚</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1608316895578-0d32183b-93b0-44a1-805d-c96b47b0f3b0.png" /></center></p>
<p>å›é¡¾æˆ‘ä»¬åœ¨ 9.4.2 ä¸­çš„åˆ†æï¼šé€»è¾‘åœ°å€ <strong>ä»£æ›¿</strong>Â ç‰©ç†åœ°å€æ»¡è¶³äº†ç¨‹åºçš„ contiguous è¦æ±‚ã€‚è€ƒè™‘è¿™ä¸­åˆ†ä¸¤é¡µçš„ page table ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°æˆ‘ä»¬åªæ˜¯å°† p åˆ†æˆäº†ä¸¤éƒ¨åˆ†ï¼›å¯¹äºç¨‹åºæ¥è¯´ï¼Œp+d æ„æˆçš„æ•´ä½“ï¼ˆå³é€»è¾‘åœ°å€ï¼‰ä»ç„¶æ˜¯ contiguous çš„ï¼Œè€Œä¸”ç¨‹åºå¹¶ä¸ä¼šæ„è¯†åˆ°æˆ‘ä»¬å°† p åˆ†æˆäº† p<sub>1</sub>Â å’Œ p<sub>2</sub>Â ä¸¤éƒ¨åˆ†ï¼Œå°±åƒæ›¾ç»å®ƒæ²¡æœ‰æ„è¯†åˆ°æˆ‘ä»¬å°† address åˆ†ä¸ºäº† p å’Œ d ä¸¤éƒ¨åˆ†ä¸€æ ·ã€‚è¿™äº›åˆ’åˆ†åªæ˜¯æˆ‘ä»¬ä¸ºäº†æ›´å¥½åœ°åˆ†é…å†…å­˜æ‰€åšçš„ã€Operating-System-Level çš„äº‹æƒ…è€Œå·²ã€‚</p>
<p>è€ƒè™‘è¿™æ ·åšçš„å¥½å¤„ï¼šhierarchical paging å…¶å®å°±æ˜¯å¯¹é¡µè¡¨çš„åˆ†é¡µï¼ˆpage the page tableï¼‰ã€‚å› æ­¤ï¼Œå®ƒé¿å…äº† page table å¿…é¡»å¤„åœ¨è¿ç»­å†…å­˜çš„é—®é¢˜ï¼Œè¿™ä¸€é—®é¢˜åœ¨ <em>p</em>Â æ¯”è¾ƒå¤§æ—¶å°¤å…¶ä¸¥é‡ã€‚</p>
<p>å¦å¤–ï¼Œè¿™æ ·åšåœ¨ä¸€èˆ¬æƒ…å†µä¸‹å¯ä»¥èŠ‚çœç©ºé—´ã€‚æˆ‘ä»¬ä¹‹å‰æåˆ°ï¼Œé¡µè¡¨ä¸ä¸€å®šä¼šå…¨éƒ¨ä½¿ç”¨ï¼›å¹¶ä¸”ç”±äºé€»è¾‘åœ°å€æ˜¯è¿ç»­çš„ï¼Œå› æ­¤ç”¨åˆ°çš„é¡µè¡¨é¡¹ä¹Ÿæ˜¯è¿ç»­çš„ï¼Œéƒ½æ’åœ¨é¡µè¡¨çš„å¤´éƒ¨ã€‚å› æ­¤å¦‚æœæˆ‘ä»¬é‡‡ç”¨äº†äºŒçº§é¡µè¡¨ï¼Œé‚£ä¹ˆè®¸å¤šæ’åœ¨åé¢çš„ inner page table å°†å®Œå…¨ä¸ºç©ºï¼›æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ç›´æ¥ä¸ç»™è¿™äº› inner page table åˆ†é…ç©ºé—´ï¼Œå³æˆ‘ä»¬åªåˆ†é…æœ€å¤§çš„ p<sub>1</sub>Â é‚£ä¹ˆå¤šä¸ª inner page tableã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥èŠ‚çœå¾ˆå¤šç©ºé—´ã€‚å³ä½¿åœ¨æœ€å·®çš„æƒ…å†µä¸‹ï¼Œæ‰€æœ‰é¡µè¡¨éƒ½è¢«ä½¿ç”¨äº†ï¼Œæˆ‘ä»¬çš„é¡µè¡¨æ‰€ç”¨çš„æ€»æ¡ç›®æ•°ä¹Ÿåªæœ‰ <span class="arithmatex">\(2^{p_1}+2^{p_1}\cdot 2^{p_2} = 2^{p_1} + 2^{p_1 + p_2}\)</span>Â ä¸ªï¼Œåªæ¯”å•çº§é¡µè¡¨ç»“æ„å¤šäº† <span class="arithmatex">\(2^{p_1}\)</span>ï¼Œæ˜¯å®Œå…¨å¯ä»¥æ¥å—çš„ã€‚</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1608316186846-c0d8568f-9d3b-47f0-bc47-7c88a07bf46f.png" /></center></p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1608317001322-22547c10-f0df-446a-9aea-c90012d155b1.png" /></center></p>
<p>ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬å¯ä»¥è®¾è®¡æ›´å¤šçº§çš„é¡µè¡¨ã€‚ä¾‹å¦‚ï¼Œ64 ä½çš„é€»è¾‘åœ°å€ç©ºé—´ä½¿ç”¨äºŒçº§é¡µè¡¨å°±æ˜¯ä¸å¤Ÿçš„ï¼Œå¦åˆ™å®ƒçš„é¡µè¡¨å°±ä¼šé•¿æˆè¿™æ ·ï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1608317288073-c745144b-ee16-43e2-b38b-56b32797856b.png" /></center></p>
<p>è¿™æ · outer page å°±ä¼šè¶…çº§å¤§ã€‚æˆ‘ä»¬å¯ä»¥ page the outer pageï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1608360619753-f1b1e4b2-e278-40ba-ab7d-47133aa06989.png" /></center></p>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å»ºç«‹äº†ä¸€ä¸ªä¸‰çº§é¡µè¡¨ã€‚</p>
<p>å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¸å¿…ä½¿ç”¨å…¨éƒ¨çš„ 64 ä½ï¼Œå³æˆ‘ä»¬ä¸éœ€è¦ä¸€ä¸ª 64 ä½é‚£ä¹ˆå·¨å¤§çš„ virtual address spaceã€‚AMD-64 æ”¯æŒ 48-bit çš„è™šæ‹Ÿåœ°å€ï¼ŒARM64 æ”¯æŒ 39-bit å’Œ 48-bit çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1608360842899-bab5d705-9051-4802-a36e-514d9977a7c5.png" /></center></p>
<h3 id="952-hashed-page-tables">9.5.2 Hashed Page Tables<a class="headerlink" href="#952-hashed-page-tables" title="Permanent link">&para;</a></h3>
<p>å‰é¢ä»‹ç»çš„é¡µè¡¨æ˜¯ä½¿ç”¨ä¸€ä¸ª table ä¿å­˜ page# å¯¹åº”çš„ frame#ï¼Œè¿™ç§è§£å†³æ–¹æ¡ˆé¢ä¸´çš„é—®é¢˜æ˜¯ç©ºé—´éœ€æ±‚æ˜¯ <span class="arithmatex">\(\Theta(\text{Possible Page#})\)</span> ä¸”è¿ç»­çš„ï¼›æˆ‘ä»¬é€šè¿‡å¤šçº§é¡µè¡¨è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è€Œå“ˆå¸Œé¡µè¡¨ç»™ page# åˆ†é… frame# å¹¶ä¸æ˜¯éšæ„åˆ†é…ï¼Œè€Œæ˜¯é€šè¿‡å“ˆå¸Œè®¡ç®—å¾—åˆ°ã€‚è¿™æ ·çš„æ–¹å¼å°†ç©ºé—´éœ€æ±‚é™ä½åˆ° <span class="arithmatex">\(\Theta(\text{Bucket#} + \text{Used Page#})\)</span> ä¸”æ¯ä¸ª page å¯¹åº”çš„è¡¨é¡¹åœ¨å†…å­˜ä¸­å¹¶ä¸éœ€è¦è¿ç»­ï¼Œä»è€Œè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>å“ˆå¸Œé¡µè¡¨çš„æ¯ä¸€ä¸ªæ¡ç›®é™¤äº† page number å’Œ frame number ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªæŒ‡å‘æœ‰åŒä¸€å“ˆå¸Œå€¼çš„ä¸‹ä¸€ä¸ªé¡µè¡¨é¡¹çš„æŒ‡é’ˆã€‚è¿™ä¸ªç»“æ„ä¸ä¸€èˆ¬çš„å“ˆå¸Œè¡¨æ˜¯ä¸€è‡´çš„ã€‚</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1608361502995-3b033303-26f9-4350-af92-e7187e984f46.png" /></center></p>
<p>è¿™æ˜¯ 32-bit address spaces é¡µè¡¨çš„ä¸€ä¸ªå¸¸ç”¨æ–¹æ¡ˆã€‚</p>
<h3 id="953-inverted-page-tables">9.5.3 Inverted Page Tables<a class="headerlink" href="#953-inverted-page-tables" title="Permanent link">&para;</a></h3>
<p>åœ¨ä¹‹å‰çš„åˆ†é¡µæ–¹æ³•æ—¶ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªé¡µè¡¨ã€‚è¿™ç§æ–¹æ³•ä¼šå¯¼è‡´è¿™äº›è¡¨å¯èƒ½ä½¿ç”¨å¤§é‡çš„ç‰©ç†å†…å­˜ã€‚</p>
<p>Inverted page tables ç´¢å¼• physical address è€Œä¸æ˜¯ logical addressï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ•´ä¸ªç³»ç»Ÿåªæœ‰ä¸€ä¸ªé¡µè¡¨ï¼Œå¹¶ä¸”æ¯ä¸ªç‰©ç†å†…å­˜çš„ frame åªæœ‰ä¸€æ¡ç›¸åº”çš„æ¡ç›®ã€‚å¯»å€æ—¶ï¼ŒCPU éå†é¡µè¡¨ï¼Œæ‰¾åˆ°å¯¹åº”çš„ pid å’Œ page numberï¼Œå…¶åœ¨é¡µè¡¨ä¸­æ‰€å¤„çš„ä½ç½®å³ä¸º frame numberï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1608371379343-ca257e40-cb28-45db-8e84-b73faca92a53.png" /></center></p>
<p>è¿™ç§åšæ³•çš„ç¼ºç‚¹æ˜¯ï¼Œå¯»å€è¿‡ç¨‹éœ€è¦å¾ˆé•¿æ—¶é—´ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ TLB æˆ–è€… hashed table æ¥åŠ é€Ÿã€‚</p>
<p>å¦å¤–ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œè¿™ç§æ–¹æ³•ä¸èƒ½å¤Ÿå…±äº«å†…å­˜ï¼Œå› ä¸º page table çš„æ¯ä¸€ä¸ªæ¡ç›®ï¼ˆä¸ frame number ä¸€ä¸€å¯¹åº”ï¼‰åªèƒ½å­˜å‚¨ä¸€ä¸ª page numberã€‚</p>
<h2 id="96-swapping">9.6 Swapping<a class="headerlink" href="#96-swapping" title="Permanent link">&para;</a></h2>
<p>è¿›ç¨‹çš„æŒ‡ä»¤å’Œæ•°æ®å¿…é¡»åœ¨å†…å­˜ä¸­ä»¥æ‰§è¡Œï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å°†è¿›ç¨‹æˆ–è¿›ç¨‹çš„ä¸€éƒ¨åˆ†æš‚æ—¶ä»å†…å­˜ <strong>swap</strong>Â åˆ° <strong>backing store</strong>Â ï¼ˆå¤‡ä»½å­˜å‚¨ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¿«çš„ç£ç›˜ï¼‰ä¸­ï¼Œç»§ç»­è¿è¡Œæ—¶ä»ä¸­é‡æ–°æ‹¿å›åˆ°å†…å­˜ã€‚Swapping ä½¿å¾—æ‰€æœ‰è¿›ç¨‹æ€»çš„ç‰©ç†åœ°å€ç©ºé—´æ€»å’Œè¶…è¿‡ç³»ç»Ÿä¸­çœŸå®çš„ç‰©ç†åœ°å€ç©ºé—´ç§°ä¸ºå¯èƒ½ï¼Œæé«˜äº†ç³»ç»Ÿçš„ degree of multiprogrammingã€‚</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1608372019700-f4ef7aa8-d097-4c65-8ecd-fae1a459ec11.png" /></center></p>
<p>å½“ç„¶ï¼Œåœ¨å†…å­˜æ¯”è¾ƒå……è¶³çš„æƒ…å†µä¸‹ï¼Œswapping å¹¶ä¸å¿…ä½¿ç”¨ã€‚Swapping å¯èƒ½ä¼šå¯¼è‡´å¾ˆé•¿çš„ context switch ç”¨æ—¶ï¼Œå› ä¸ºä¸‹ä¸€ä¸ªè¿›ç¨‹å¯èƒ½å¹¶ä¸åœ¨å†…å­˜ä¸­ï¼Œè€Œç”±äºç£ç›˜çš„ I/O å¾ˆæ…¢ï¼Œswapping åˆ°å†…å­˜ä¼šèŠ±è´¹å¾ˆé•¿æ—¶é—´ã€‚</p>
<p>åœ¨åˆ†é¡µçš„æœºåˆ¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åª swap out ä¸€äº› pagesï¼Œè€Œä¸å¿… swap out ä¸€æ•´ä¸ªè¿›ç¨‹ï¼š</p>
<p><center><img alt="image.png" src="../9_main_memory.assets/1608372300631-caecc85c-4a10-4b59-bfc6-f1fd60c1ebe6.png" /></center></p>

  <hr>
<div class="md-source-file">
  <small>
    
      æœ€åæ›´æ–°:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2022-11-25T15:50:59+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2022-11-25</span>
      
        <br>
        åˆ›å»ºæ—¥æœŸ:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2022-11-24T15:36:14+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2022-11-24</span>
      
    
  </small>
</div>


  



<div id="__comments">

<h3>é¢œè‰²ä¸»é¢˜è°ƒæ•´</h3>

<div class="tx-switch">
<button data-md-color-scheme="default"><code>default</code></button>
<button data-md-color-scheme="slate"><code>slate</code></button>
</div>

<script>
var buttons = document.querySelectorAll("button[data-md-color-scheme]")
buttons.forEach(function(button) {
        button.addEventListener("click", function() {
        var attr = this.getAttribute("data-md-color-scheme")
        document.body.setAttribute("data-md-color-scheme", attr)
        localStorage.setItem("data-md-color-scheme",attr);
        updateScheme();
        })
})
</script>

<div class="tx-switch">
<button class="button1" data-md-color-primary="red" style="background-color:red">red</button>
<button class="button1" data-md-color-primary="pink" style="background-color:pink;color:black">pink</button>
<button class="button1" data-md-color-primary="purple" style="background-color:purple">purple</button>
<button class="button1" data-md-color-primary="indigo" style="background-color:indigo">indigo</button>
<button class="button1" data-md-color-primary="blue" style="background-color:blue">blue</button>
<button class="button1" data-md-color-primary="cyan" style="background-color:cyan;color:black">cyan</button>
<button class="button1" data-md-color-primary="teal" style="background-color:teal">teal</button>
<button class="button1" data-md-color-primary="green" style="background-color:green">green</button>
<button class="button1" data-md-color-primary="lime" style="background-color:lime;color:black">lime</button>
<button class="button1" data-md-color-primary="orange" style="background-color:orange;color:black">orange</button>
<button class="button1" data-md-color-primary="brown" style="background-color:brown;border-radius=3px">brown</button>
<button class="button1" data-md-color-primary="grey" style="background-color:grey">grey</button>
<button class="button1" data-md-color-primary="black" style="background-color:black">black</button>
<button class="button1" data-md-color-primary="white" style="background-color:white;color:black">white</button>
</div>

<script>
var buttons = document.querySelectorAll("button[data-md-color-primary]")
buttons.forEach(function(button) {
        button.addEventListener("click", function() {
        var attr = this.getAttribute("data-md-color-primary")
        document.body.setAttribute("data-md-color-primary", attr)
        localStorage.setItem("data-md-color-primary",attr);
        })
})
</script>

<h2 ><!-- è¯„è®º -->è¯„è®ºåŒº~</h2>

æœ‰ç”¨çš„è¯è¯·ç»™æˆ‘ä¸ªèµå’Œ star => <a href="https://github.com/xuan-insr/xuan-insr.github.io"><img alt="GitHub stars" src="https://img.shields.io/github/stars/xuan-insr/xuan-insr.github.io.svg?style=plastic&amp;label=Stars"></a>

</br>

å¿«æ¥è·Ÿæˆ‘èŠå¤©~

</div>

<script src="https://giscus.app/client.js"
        data-repo="xuan-insr/discussion"
        data-repo-id="R_kgDOIUW7XA"
        data-category="General"
        data-category-id="DIC_kwDOIUW7XM4CSOC3"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="dark"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>

updateScheme();

</script>

<!-- Synchronize Giscus theme with palette -->
<script>
var giscus = document.querySelector("script[src*=giscus]")

/* Set palette on initial load */
// var palette = __md_get("__palette")
// if (palette && typeof palette.color === "object") {
//     var theme = palette.color.scheme === "slate" ? "dark" : "light"
//     giscus.setAttribute("data-theme", theme) 
// }

/* Register event handlers after documented loaded */
// document.addEventListener("DOMContentLoaded", function() {
//     var ref = document.querySelector("[data-md-component=palette]")
//     ref.addEventListener("change", function() {
//     var palette = __md_get("__palette")
//     if (palette && typeof palette.color === "object") {
//         var theme = palette.color.scheme === "slate" ? "dark" : "light"

//         /* Instruct Giscus to change theme */
//         var frame = document.querySelector(".giscus-frame")
//         frame.contentWindow.postMessage(
//         { giscus: { setConfig: { theme } } },
//         "https://giscus.app"
//         )
//     }
//     })
// })
</script>
                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            å›åˆ°é¡µé¢é¡¶éƒ¨
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      æœ¬é¡µé¢çš„å…¨éƒ¨å†…å®¹åœ¨ <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh">CC BY-SA 4.0</a> å’Œ <a href="https://github.com/zTrix/sata-license">SATA</a> åè®®ä¹‹æ¡æ¬¾ä¸‹æä¾›ï¼Œé™„åŠ æ¡æ¬¾äº¦å¯èƒ½åº”ç”¨
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "content.code.annotate", "navigation.tracking", "navigation.indexes", "navigation.top", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
        
          <script src="../../../../js/timeago.min.js"></script>
        
      
        
          <script src="../../../../js/timeago_mkdocs_material.js"></script>
        
      
        
          <script src="../../../../from_oi_wiki/js/extra.js"></script>
        
      
        
          <script src="../../../../js/mathjax.js"></script>
        
      
        
          <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        
      
        
          <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        
      
        
          <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
        
      
        
          <script src="../../../../js/tablesort.js"></script>
        
      
    
  </body>
</html>